var Rt=Object.defineProperty;var It=(n,e,t)=>e in n?Rt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ae=(n,e,t)=>(It(n,typeof e!="symbol"?e+"":e,t),t);import{r as yt,a as Dt,b as Bt,C as Ze,e as Qe,d as me,c as Se,w as Z,o as et,n as tt,f as Vt,g as $,M as wt,h as nt,B as ge,i as He,N as Ft,m as Ue,j as Ht,s as _t,k as Ut,l as Wt,u as qt,p as Kt,q as Gt,t as Jt,v as vt,x as X,I as xt,y as We,z as $e,A as Xt,D as Fe,E as Yt,F as Zt,R as Qt,_ as en}from"./index-c7713129.js";var tn="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",nn="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",rn="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",st={exports:{}},ot;function sn(){return ot||(ot=1,function(n,e){(function(t){t(yt())})(function(t){t.defineMode("css",function(P,R){var Y=R.inline;R.propertyKeywords||(R=t.resolveMode("text/css"));var Q=P.indentUnit,ee=R.tokenHooks,Oe=R.documentTypes||{},De=R.mediaTypes||{},Ce=R.mediaFeatures||{},Ee=R.mediaValueKeywords||{},be=R.propertyKeywords||{},ye=R.nonStandardPropertyKeywords||{},Be=R.fontProperties||{},Ve=R.counterDescriptors||{},Me=R.colorKeywords||{},x=R.valueKeywords||{},o=R.allowNested,p=R.lineComment,O=R.supportsAtComponent===!0,E=P.highlightNonStandardPropertyKeywords!==!1,N,j;function L(u,_){return N=_,u}function F(u,_){var f=u.next();if(ee[f]){var B=ee[f](u,_);if(B!==!1)return B}if(f=="@")return u.eatWhile(/[\w\\\-]/),L("def",u.current());if(f=="="||(f=="~"||f=="|")&&u.eat("="))return L(null,"compare");if(f=='"'||f=="'")return _.tokenize=W(f),_.tokenize(u,_);if(f=="#")return u.eatWhile(/[\w\\\-]/),L("atom","hash");if(f=="!")return u.match(/^\s*\w*/),L("keyword","important");if(/\d/.test(f)||f=="."&&u.eat(/\d/))return u.eatWhile(/[\w.%]/),L("number","unit");if(f==="-"){if(/[\d.]/.test(u.peek()))return u.eatWhile(/[\w.%]/),L("number","unit");if(u.match(/^-[\w\\\-]*/))return u.eatWhile(/[\w\\\-]/),u.match(/^\s*:/,!1)?L("variable-2","variable-definition"):L("variable-2","variable");if(u.match(/^\w+-/))return L("meta","meta")}else return/[,+>*\/]/.test(f)?L(null,"select-op"):f=="."&&u.match(/^-?[_a-z][_a-z0-9-]*/i)?L("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(f)?L(null,f):u.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(u.current())&&(_.tokenize=G),L("variable callee","variable")):/[\w\\\-]/.test(f)?(u.eatWhile(/[\w\\\-]/),L("property","word")):L(null,null)}function W(u){return function(_,f){for(var B=!1,te;(te=_.next())!=null;){if(te==u&&!B){u==")"&&_.backUp(1);break}B=!B&&te=="\\"}return(te==u||!B&&u!=")")&&(f.tokenize=null),L("string","string")}}function G(u,_){return u.next(),u.match(/^\s*[\"\')]/,!1)?_.tokenize=null:_.tokenize=W(")"),L(null,"(")}function ae(u,_,f){this.type=u,this.indent=_,this.prev=f}function K(u,_,f,B){return u.context=new ae(f,_.indentation()+(B===!1?0:Q),u.context),f}function re(u){return u.context.prev&&(u.context=u.context.prev),u.context.type}function we(u,_,f){return q[f.context.type](u,_,f)}function le(u,_,f,B){for(var te=B||1;te>0;te--)f.context=f.context.prev;return we(u,_,f)}function it(u){var _=u.current().toLowerCase();x.hasOwnProperty(_)?j="atom":Me.hasOwnProperty(_)?j="keyword":j="variable"}var q={};return q.top=function(u,_,f){if(u=="{")return K(f,_,"block");if(u=="}"&&f.context.prev)return re(f);if(O&&/@component/i.test(u))return K(f,_,"atComponentBlock");if(/^@(-moz-)?document$/i.test(u))return K(f,_,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(u))return K(f,_,"atBlock");if(/^@(font-face|counter-style)/i.test(u))return f.stateArg=u,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(u))return"keyframes";if(u&&u.charAt(0)=="@")return K(f,_,"at");if(u=="hash")j="builtin";else if(u=="word")j="tag";else{if(u=="variable-definition")return"maybeprop";if(u=="interpolation")return K(f,_,"interpolation");if(u==":")return"pseudo";if(o&&u=="(")return K(f,_,"parens")}return f.context.type},q.block=function(u,_,f){if(u=="word"){var B=_.current().toLowerCase();return be.hasOwnProperty(B)?(j="property","maybeprop"):ye.hasOwnProperty(B)?(j=E?"string-2":"property","maybeprop"):o?(j=_.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(j+=" error","maybeprop")}else return u=="meta"?"block":!o&&(u=="hash"||u=="qualifier")?(j="error","block"):q.top(u,_,f)},q.maybeprop=function(u,_,f){return u==":"?K(f,_,"prop"):we(u,_,f)},q.prop=function(u,_,f){if(u==";")return re(f);if(u=="{"&&o)return K(f,_,"propBlock");if(u=="}"||u=="{")return le(u,_,f);if(u=="(")return K(f,_,"parens");if(u=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(_.current()))j+=" error";else if(u=="word")it(_);else if(u=="interpolation")return K(f,_,"interpolation");return"prop"},q.propBlock=function(u,_,f){return u=="}"?re(f):u=="word"?(j="property","maybeprop"):f.context.type},q.parens=function(u,_,f){return u=="{"||u=="}"?le(u,_,f):u==")"?re(f):u=="("?K(f,_,"parens"):u=="interpolation"?K(f,_,"interpolation"):(u=="word"&&it(_),"parens")},q.pseudo=function(u,_,f){return u=="meta"?"pseudo":u=="word"?(j="variable-3",f.context.type):we(u,_,f)},q.documentTypes=function(u,_,f){return u=="word"&&Oe.hasOwnProperty(_.current())?(j="tag",f.context.type):q.atBlock(u,_,f)},q.atBlock=function(u,_,f){if(u=="(")return K(f,_,"atBlock_parens");if(u=="}"||u==";")return le(u,_,f);if(u=="{")return re(f)&&K(f,_,o?"block":"top");if(u=="interpolation")return K(f,_,"interpolation");if(u=="word"){var B=_.current().toLowerCase();B=="only"||B=="not"||B=="and"||B=="or"?j="keyword":De.hasOwnProperty(B)?j="attribute":Ce.hasOwnProperty(B)?j="property":Ee.hasOwnProperty(B)?j="keyword":be.hasOwnProperty(B)?j="property":ye.hasOwnProperty(B)?j=E?"string-2":"property":x.hasOwnProperty(B)?j="atom":Me.hasOwnProperty(B)?j="keyword":j="error"}return f.context.type},q.atComponentBlock=function(u,_,f){return u=="}"?le(u,_,f):u=="{"?re(f)&&K(f,_,o?"block":"top",!1):(u=="word"&&(j="error"),f.context.type)},q.atBlock_parens=function(u,_,f){return u==")"?re(f):u=="{"||u=="}"?le(u,_,f,2):q.atBlock(u,_,f)},q.restricted_atBlock_before=function(u,_,f){return u=="{"?K(f,_,"restricted_atBlock"):u=="word"&&f.stateArg=="@counter-style"?(j="variable","restricted_atBlock_before"):we(u,_,f)},q.restricted_atBlock=function(u,_,f){return u=="}"?(f.stateArg=null,re(f)):u=="word"?(f.stateArg=="@font-face"&&!Be.hasOwnProperty(_.current().toLowerCase())||f.stateArg=="@counter-style"&&!Ve.hasOwnProperty(_.current().toLowerCase())?j="error":j="property","maybeprop"):"restricted_atBlock"},q.keyframes=function(u,_,f){return u=="word"?(j="variable","keyframes"):u=="{"?K(f,_,"top"):we(u,_,f)},q.at=function(u,_,f){return u==";"?re(f):u=="{"||u=="}"?le(u,_,f):(u=="word"?j="tag":u=="hash"&&(j="builtin"),"at")},q.interpolation=function(u,_,f){return u=="}"?re(f):u=="{"||u==";"?le(u,_,f):(u=="word"?j="variable":u!="variable"&&u!="("&&u!=")"&&(j="error"),"interpolation")},{startState:function(u){return{tokenize:null,state:Y?"block":"top",stateArg:null,context:new ae(Y?"block":"top",u||0,null)}},token:function(u,_){if(!_.tokenize&&u.eatSpace())return null;var f=(_.tokenize||F)(u,_);return f&&typeof f=="object"&&(N=f[1],f=f[0]),j=f,N!="comment"&&(_.state=q[_.state](N,u,_)),j},indent:function(u,_){var f=u.context,B=_&&_.charAt(0),te=f.indent;return f.type=="prop"&&(B=="}"||B==")")&&(f=f.prev),f.prev&&(B=="}"&&(f.type=="block"||f.type=="top"||f.type=="interpolation"||f.type=="restricted_atBlock")?(f=f.prev,te=f.indent):(B==")"&&(f.type=="parens"||f.type=="atBlock_parens")||B=="{"&&(f.type=="at"||f.type=="atBlock"))&&(te=Math.max(0,f.indent-Q))),te},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:p,fold:"brace"}});function r(P){for(var R={},Y=0;Y<P.length;++Y)R[P[Y].toLowerCase()]=!0;return R}var i=["domain","regexp","url","url-prefix"],s=r(i),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=r(l),h=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],c=r(h),d=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],w=r(d),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],g=r(v),m=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],y=r(m),k=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],S=r(k),C=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],A=r(C),T=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],I=r(T),H=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],D=r(H),U=i.concat(l).concat(h).concat(d).concat(v).concat(m).concat(T).concat(H);t.registerHelper("hintWords","css",U);function V(P,R){for(var Y=!1,Q;(Q=P.next())!=null;){if(Y&&Q=="/"){R.tokenize=null;break}Y=Q=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:s,mediaTypes:a,mediaFeatures:c,mediaValueKeywords:w,propertyKeywords:g,nonStandardPropertyKeywords:y,fontProperties:S,counterDescriptors:A,colorKeywords:I,valueKeywords:D,tokenHooks:{"/":function(P,R){return P.eat("*")?(R.tokenize=V,V(P,R)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:c,mediaValueKeywords:w,propertyKeywords:g,nonStandardPropertyKeywords:y,colorKeywords:I,valueKeywords:D,fontProperties:S,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(P,R){return P.eat("/")?(P.skipToEnd(),["comment","comment"]):P.eat("*")?(R.tokenize=V,V(P,R)):["operator","operator"]},":":function(P){return P.match(/^\s*\{/,!1)?[null,null]:!1},$:function(P){return P.match(/^[\w-]+/),P.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(P){return P.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:c,mediaValueKeywords:w,propertyKeywords:g,nonStandardPropertyKeywords:y,colorKeywords:I,valueKeywords:D,fontProperties:S,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(P,R){return P.eat("/")?(P.skipToEnd(),["comment","comment"]):P.eat("*")?(R.tokenize=V,V(P,R)):["operator","operator"]},"@":function(P){return P.eat("{")?[null,"interpolation"]:P.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(P.eatWhile(/[\w\\\-]/),P.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:s,mediaTypes:a,mediaFeatures:c,propertyKeywords:g,nonStandardPropertyKeywords:y,fontProperties:S,counterDescriptors:A,colorKeywords:I,valueKeywords:D,supportsAtComponent:!0,tokenHooks:{"/":function(P,R){return P.eat("*")?(R.tokenize=V,V(P,R)):!1}},name:"css",helperType:"gss"})})}()),st.exports}(function(n,e){(function(t){t(yt(),Dt(),Bt(),sn())})(function(t){var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(w,v,g){var m=w.current(),y=m.search(v);return y>-1?w.backUp(m.length-y):m.match(/<\/?$/)&&(w.backUp(m.length),w.match(v,!1)||w.match(m)),g}var s={};function l(w){var v=s[w];return v||(s[w]=new RegExp("\\s+"+w+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function a(w,v){var g=w.match(l(v));return g?/^\s*(.*?)\s*$/.exec(g[2])[1]:""}function h(w,v){return new RegExp((v?"^":"")+"</\\s*"+w+"\\s*>","i")}function c(w,v){for(var g in w)for(var m=v[g]||(v[g]=[]),y=w[g],k=y.length-1;k>=0;k--)m.unshift(y[k])}function d(w,v){for(var g=0;g<w.length;g++){var m=w[g];if(!m[0]||m[1].test(a(v,m[0])))return m[2]}}t.defineMode("htmlmixed",function(w,v){var g=t.getMode(w,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),m={},y=v&&v.tags,k=v&&v.scriptTypes;if(c(r,m),y&&c(y,m),k)for(var S=k.length-1;S>=0;S--)m.script.unshift(["type",k[S].matches,k[S].mode]);function C(A,T){var I=g.token(A,T.htmlState),H=/\btag\b/.test(I),D;if(H&&!/[<>\s\/]/.test(A.current())&&(D=T.htmlState.tagName&&T.htmlState.tagName.toLowerCase())&&m.hasOwnProperty(D))T.inTag=D+" ";else if(T.inTag&&H&&/>$/.test(A.current())){var U=/^([\S]+) (.*)/.exec(T.inTag);T.inTag=null;var V=A.current()==">"&&d(m[U[1]],U[2]),P=t.getMode(w,V),R=h(U[1],!0),Y=h(U[1],!1);T.token=function(Q,ee){return Q.match(R,!1)?(ee.token=C,ee.localState=ee.localMode=null,null):i(Q,Y,ee.localMode.token(Q,ee.localState))},T.localMode=P,T.localState=t.startState(P,g.indent(T.htmlState,"",""))}else T.inTag&&(T.inTag+=A.current(),A.eol()&&(T.inTag+=" "));return I}return{startState:function(){var A=t.startState(g);return{token:C,inTag:null,localMode:null,localState:null,htmlState:A}},copyState:function(A){var T;return A.localState&&(T=t.copyState(A.localMode,A.localState)),{token:A.token,inTag:A.inTag,localMode:A.localMode,localState:T,htmlState:t.copyState(g,A.htmlState)}},token:function(A,T){return T.token(A,T)},indent:function(A,T,I){return!A.localMode||/^\s*<\//.test(T)?g.indent(A.htmlState,T,I):A.localMode.indent?A.localMode.indent(A.localState,T,I):t.Pass},innerMode:function(A){return{state:A.localState||A.htmlState,mode:A.localMode||g}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")})})();class kt{constructor(e){this.input=e,this.index=0}getCurrent(){return this.input[this.index]}at(e){return this.index+e<this.input.length&&this.index+e>=0?this.input[this.index+e]:""}read(e){const t=this.input.slice(this.index,this.index+e);return this.index+=e,t}skipUntil(e){if(typeof e=="string"){const t=e;e=(r,i)=>r.startsWith(t,i)}for(;this.index<this.input.length;){if(e(this.input,this.index))return!0;this.index++}return!1}readUntil(e){if(typeof e=="string"){const i=e;e=(s,l)=>s.startsWith(i,l)}let t=this.index;this.skipUntil(e);let r=this.index;return this.input.slice(t,r)}skipWhile(e){return this.skipUntil((t,r)=>!e(t,r))}readWhile(e){return this.readUntil((t,r)=>!e(t,r))}readAll(e){const t=[];for(;!this.isDone();)t.push(this.readUntil(e)),this.isDone()||(t.push(this.input[this.index]),this.index++);return t}isDone(){return this.index>=this.input.length}clone(e){const t=Object.assign(Object.create(this.constructor.prototype),this);return e!=null&&(t.input=e,t.index=0),t}restart(e){return this.input=e,this.index=0,this}consume(e){if(e instanceof Array){for(const t of e)if(this.consume(t))return t;return null}return this.input.startsWith(e,this.index)?(this.index+=e.length,!0):!1}matches(e){if(typeof e=="function")return e(this.input,this.index);if(e instanceof Array){for(const t of e)if(this.matches(t))return t;return null}return!!this.input.startsWith(e,this.index)}}function on(n,e,t){const r=n.get(e);if(r)return r;const i=t();return n.set(e,i),i}function at(n){return n instanceof Error||(n=new Error(St(n))),n}function St(n){return typeof n=="object"&&n==null?"null":typeof n>"u"?"undefined":n.toString()}function qe(n){return n.filter(e=>e).flatMap(e=>e instanceof Array?e:[e])}function*an(n,e){for(let t=0;t<n;t++)e?yield e(t):yield t}function ne(n="Reached unreachable code"){throw new Error("Assertion failed: "+n)}const ln="0".charCodeAt(0),un="9".charCodeAt(0),cn="a".charCodeAt(0),hn="z".charCodeAt(0),Tt="A".charCodeAt(0),jt="Z".charCodeAt(0);function Ke(n,e=0){if(!n)return!1;const t=n.charCodeAt(e);return t>=ln&&t<=un}function dn(n,e=0){if(!n)return!1;const t=n.charCodeAt(e);return t>=cn&&t<=hn||t>=Tt&&t<=jt}function lt(n,e=0){if(!n)return!1;const t=n.charCodeAt(e);return t>=Tt&&t<=jt}function Ot(n,e=0){return!n||!n[e]?!1:dn(n,e)||Ke(n,e)||n[e]=="_"}function xe(n,e=0){return n[e]==" "||n[e]=="\r"||n[e]=="	"||n[e]==`
`}function fn(n){return[].concat(n)}function*pn(...n){for(const e of n)yield*e}function*mn(n,...e){const t=e.map(r=>r[Symbol.iterator]());for(;;){let r=!1,i=!0;const s=[];for(const l of t){const a=l.next();a.done?(r=!0,s.push(null)):(i=!1,s.push(a.value))}if(n=="until-first"&&r)return;if(i)return;yield s}}function ke(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function ve(n){return n.replace(/[^\w ]/g,e=>e=="\\"?"\\\\":`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`)}function Ie(n){return Object.assign(Object.create(Object.getPrototypeOf(n)),n)}function gn(n,...e){const t=Ie(n);for(const r of e)delete t[r];return t}function ut(n,e){return Object.assign(Ie(n),e)}var Ge;(n=>{function e(i){return i==null?(s,l)=>s+l:(s,l)=>s+i(l)}n.sum=e;function t(i){return(s,l,a)=>{const h=i==null?l:i(l);if(s==null)return{value:h,element:l,index:a};const c=s.value;return h<c?{value:h,element:l,index:a}:s??ne()}}n.smallest=t;function r(i){return(s,l,a)=>{const h=i==null?l:i(l);if(s==null)return{value:h,element:l,index:a};const c=s.value;return h>c?{value:h,element:l,index:a}:s??ne()}}n.largest=r})(Ge||(Ge={}));function*bn(n){for(let e=n.length-1;e>=0;e--)yield n[e]}var ct;(n=>{function e(a){return h=>h instanceof a}n.instanceOf=e;function t(a){return h=>typeof h==a}n.typeOf=t;function r(a){return a==null?h=>!1:"has"in a?h=>a.has(h):h=>a.includes(h)}n.containedIn=r;function i(a){return(...h)=>!a(...h)}n.invert=i;function s(){return a=>a!=null}n.notNull=s;function l(...a){return h=>{for(const c of a)if(!c(h))return!1;return!0}}n.and=l,n.not=new Proxy({},{get(a,h,c){const d=n[h];return(...w)=>{const v=d(...w);return(...g)=>!v(...g)}}})})(ct||(ct={}));function yn(n,e){const t=new Map(n);for(const[r,i]of e)t.set(r,i);return t}function Je(n,e){if(e==null)return n;if(typeof n=="object"&&n!=null){if(n instanceof Array)return n.push(...e),n;for(const[t,r]of Object.entries(e)){const i=t in n?n[t]:void 0;if(typeof i=="object"&&i!=null){n[t]=Je(i,r);continue}n[t]=r}return n}return e}class ue extends Error{constructor(){super(...arguments),this.name="PredicateFailedError"}}class ie{constructor(e){this._rejected=null,this._value=e}get rejected(){return this._rejected}else(e){if(this._rejected){const t=e(this._rejected);t instanceof ie?t._rejected?(this._value=null,this._rejected=t._rejected):(this._value=t._value,this._rejected=null):(this._value=t,this._rejected=null)}return this}effect(e,...t){return this._rejected?this:(e(this._value,...t),this)}unwrap(){if(this._rejected)throw this._rejected;return this._value}tryUnwrap(){if(!this._rejected)return this._value}unwrapOrError(){return this._rejected?this._rejected:this._value}do(e,...t){if(!this._rejected){const r=e(this._value,...t);r instanceof ie?r._rejected?this._rejected=r._rejected:this._value=r._value:this._value=r}return this}try(e,...t){if(!this._rejected)try{const r=e(this._value,...t);r instanceof ie?r._rejected?this._rejected=r._rejected:this._value=r._value:this._value=r}catch(r){this._rejected=at(r),this._value=null}return this}filter(e,t="Value did not match predicate"){return this._rejected?this:(e(this._value)||(this._rejected=new ue(t),this._value=null),this)}assertType(){return this}rejectType(e,t=`Value was of type "${e.name}"`){return this._rejected?this:(this._value instanceof e&&(this._rejected=new ue(t),this._value=null),this)}notNull(){return this._rejected?this:(this._value==null&&(this._rejected=new ue("Value is null"),this._value=null),this)}notNaN(){return this._rejected?this:((typeof this._value!="number"||isNaN(this._value))&&(this._rejected=new ue("Value is NaN"),this._value=null),this)}filterType(e,t=`Value was not of type "${typeof e=="string"?e:e.name}"`){return this._rejected?this:(typeof e=="string"?typeof this._value!=e&&(this._rejected=new ue(t),this._value=null):this._value instanceof e||(this._rejected=new ue(t),this._value=null),this)}rejectValue(e,t=`Value was "${St(e)}"`){return this._rejected||this._value==e&&this._value==e&&(this._rejected=new ue(t),this._value=null),this}static value(e){return new ie(e)}static rejected(e){const t=new ie(null);return t._rejected=e,t}static pcall(e,...t){try{return ie.value(e(...t))}catch(r){return ie.rejected(at(r))}}}function wn(n,e,t=null,r=null){const i=new RegExp(ve(e)),s=(t??n.posFromIndex(0)).line,l=(r==null?void 0:r.line)??n.lastLine();for(let a=s;a<=l;a++){let h=n.getLine(a);a==l&&r!=null&&(h=h.slice(0,r.ch)),a==s&&t!=null&&(h=h.slice(t.ch));const c=i.exec(h);if(c){let d=c.index;return a==s&&t!=null&&(d+=t.ch),Ze.Pos(a,d)}}return null}const _n={"Shift-Ctrl-L":"deleteLine","Ctrl-Space":"autocomplete","Ctrl-D"(n){const e=new Set;for(const r of n.listSelections()){const i=r.from().line,s=r.to().line;for(let l=i;l<=s;l++)e.add(l)}const t=[...e];for(const r of bn(t)){const i=n.getLine(r),s={ch:i.length,line:r};n.replaceRange(`
`+i,s,s)}},"Shift-Tab":"indentLess","Shift-Alt-D"(n){if(!n.somethingSelected()){const s=n.findWordAt(n.getCursor());n.addSelection(s.from(),s.to());return}const t=n.listSelections().at(-1),r=n.getRange(t.from(),t.to()),i=wn(n,r,t.to());i&&n.addSelection(i,Ze.Pos(i.line,i.ch+r.length))}},Ct=Qe(me({name:"Editor",props:{content:{type:String,default:""},highlight:{type:Object},mode:{type:null},config:{type:Object},useExtendedShortcuts:{type:Boolean,default:!0}},emits:{change:n=>!0},setup(n,e){const t=Se();let r=null,i=n.content;Z(()=>n.content,a=>{r&&a!=r.getValue()&&r.setValue(a)}),Z(()=>n.mode,a=>{r&&r.setOption("mode",a)});function s(a){a.classList.add("absolute-fill"),a.style.height="100%",t.value=a}et(()=>{var h;r=Ze(s,{value:i,lineNumbers:!0,mode:n.mode??"simple",lineWrapping:!0,indentUnit:4,...n.config,extraKeys:{...n.useExtendedShortcuts?_n:void 0,...(h=n.config)==null?void 0:h.extraKeys,"Ctrl-S":()=>e.emit("change",i)}}),tt(()=>r.refresh());let a=0;r.on("change",()=>{var d;const c=r.getValue();if(c.length>i.length&&r.state.selectionActive==null&&((d=n.config)!=null&&d.hintOptions)&&!n.config.hintOptions.completeSingle&&Date.now()-a>50){const w=r.findWordAt(r.getCursor()),v=r.getRange(w.from(),w.to());v.length>0&&new kt(v).readWhile(Ot)==v&&r.execCommand("autocomplete")}i=c}),r.on("endCompletion",()=>{a=Date.now()}),r.on("blur",()=>{e.emit("change",i)})}),Vt(()=>{e.emit("change",i)});let l=null;return Z(()=>n.highlight,a=>{if(l&&(l.clear(),l=null),r==null||a==null)return;let h=a.offset;a.lineOffset&&(h+=r.indexFromPos({ch:0,line:a.lineOffset}));const c=r.posFromIndex(h),d=r.posFromIndex(h+a.length);r.scrollIntoView(c),l=r.getDoc().markText(c,d,{className:"bg-warning-translucent"})}),()=>$("div",null,[$(wt,{node:t.value},null)])}}));function Ne(n){return typeof n=="string"?n:`calc(var(--size-int) * ${n})`}function ht(){const n={display:"grid"};let e=!1,t=!1;return{rows(...r){return n.gridTemplateRows=r.map(Ne).join(" "),e=!0,this},columns(...r){return n.gridTemplateColumns=r.map(Ne).join(" "),e=!0,this},autoRows(r){return n.gridAutoRows=Ne(r),e=!0,this},autoColumns(r){return n.gridAutoColumns=Ne(r),e=!0,this},left(r,i){return t=!0,i==null?n.gridColumn=r.toString():n.gridColumn=`${r} / ${i}`,this},top(r,i){return t=!0,i==null?n.gridRow=r.toString():n.gridRow=`${r} / ${i}`,this},colspan(r){return this.left("auto",`span ${r}`)},rowspan(r){return this.top("auto",`span ${r}`)},debug(){return n["--debug"]=JSON.stringify(JSON.stringify(n)),this},get $(){return t&&!e&&delete n.display,n}}}function Pe(n={},e=null){return nt({selected:e??Object.keys(n)[0],list:Object.entries(n),next(){const r=this.list.findIndex(i=>i[0]==this.selected)%this.list.length;this.selected=this.list[r][0]}})}const vn={variant:{type:String},tabs:{type:Object,required:!0},compact:{type:Boolean},buttonClass:{type:String},border:{type:Boolean}},Le=me({name:"Tabs",props:vn,setup(n,e){if(n.border)return()=>$("div",{class:["flex row pt-1",!n.compact&&"gap-1"]},[n.tabs.list.map(([i,s])=>$(ge,{onClick:()=>n.tabs.selected=i,textual:!0,key:i,class:[n.buttonClass,"as-retro-tab",n.tabs.selected==i&&"-selected"]},{default:()=>[typeof s=="string"?s:s(),$("div",{class:"-border"},null),$("div",{class:"-connector"},null)]}))]);const t={};function r(i,s,l){if(!i)throw new Error("Selected state changed to null");if(!s){if(!(i in t)){if(l)throw new Error("Selected tab does not exist");tt(()=>r(i,s,!0));return}t[i].classList.add("active");return}const a=t[s],h=t[i],c=a.getBoundingClientRect();a.classList.remove("active"),h.classList.add("active");const d=h.getBoundingClientRect(),w=c.left+c.width/2-(d.left+d.width/2),v=c.width/d.width;h.style.transform=`translateX(${w}px) scaleX(${v})`,setTimeout(()=>{h.classList.add("moving"),h.style.transform="none",setTimeout(()=>{h.classList.remove("moving")},100)},10)}return Z(()=>n.tabs.selected,(i,s)=>{n.tabs.list.length!=0&&r(i,s,!1)}),et(()=>{n.tabs.selected&&(n.tabs.selected in t||(n.tabs.selected=Object.keys(t)[0]),t[n.tabs.selected].classList.add("active"))}),()=>$("div",{class:["flex row",!n.compact&&"gap-4"]},[n.tabs.list.map(([i,s])=>$(ge,{onClick:()=>n.tabs.selected=i,textual:!0,flat:!0,key:i,class:["pb-1 px-0",n.buttonClass]},{default:()=>[typeof s=="string"?s:He(s),$("div",{ref:l=>t[i]=l,class:["as-tabs-indicator",n.variant?`bg-${n.variant}`:"bg-highlight"]},null)]}))])}}),xn=me({name:"TabbedContainer",props:{defaultValue:{type:String},tabsProps:{type:Object},tabsWrapper:{type:Function},externalTabs:{type:Object},...Ft},setup(n,e){function t(){var a,h;const s=Ht((h=(a=e.slots).default)==null?void 0:h.call(a)),l=[];for(const c of s)if(typeof c=="object"&&c!=null&&c.type==Xe){if(c.props==null||c.props.name==null)continue;const d=c.props.name,w=c.props.label??d;l.push({name:d,label:w,content:c})}return l}function r(s){const l=i.list,a=s.map(h=>[h.name,h.label]);l.map(h=>h[0]).join(",")!=a.map(h=>h[0]).join(",")&&tt(()=>{var h;a.some(c=>c[0]==i.selected)||(i.selected=((h=a[0])==null?void 0:h[0])??""),i.list=a})}const i=n.externalTabs??Pe({});return()=>{const s=t();r(s);const l=s.find(h=>h.name==i.selected),a=n.tabsWrapper?n.tabsWrapper(l==null?void 0:l.content):l==null?void 0:l.content;return n.externalTabs?$("div",null,[a]):$("div",null,[$(Le,Ue(n.tabsProps,{tabs:i}),null),a])}}}),Xe=me({name:"Tab",props:{name:{type:String,required:!0},label:{type:null}},setup(n,e){return()=>{var t,r;return(r=(t=e.slots).default)==null?void 0:r.call(t)}}});class Et{constructor(){return this.code=_t(""),this.errors=nt([]),this.ready=!1,Ut(this)}isLanguageService(){return!1}compile(e){this.ready=!1,this.errors.length=0;try{this._compile(e)}catch(t){console.error(t),this.errors.push(`<span class="text-danger">Failed to run code due to internal error:<br />&nbsp;&nbsp;${ke(Wt(t))}</span>`)}}}function kn(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Xt(n)}const Sn=Qe(me({name:"EditorView",props:{code:{type:String},root:{type:Boolean},vertical:{type:Boolean},noRunButton:{type:Boolean},tab:{type:String},mode:{type:null},localStorageId:{type:String},config:{type:Object},codeRatio:{type:Number},state:{type:Et,required:!0},toolbarClass:{type:null}},emits:{compile:(n,e)=>!0},setup(n,e){const t=qt(),r=Kt();n.localStorageId&&!n.root&&console.warn("EditorView has localStorageId but it is not root, so no state will be saved"),Z(()=>n.code,()=>{n.code!=null&&(n.state.code.value=n.code)},{immediate:!0});const i=Pe();if(n.tab!=null&&(i.selected=n.tab),Z(()=>n.tab,()=>{n.tab!=null&&(i.selected=n.tab)}),n.root){if(t.query.code){const g=t.query.code;n.state.code.value=g,r.replace({query:{code:void 0}})}else if(n.localStorageId!=null){const g=localStorage.getItem(n.localStorageId+":editor-code");g!=null&&(n.state.code.value=g)}if(n.localStorageId){const g=localStorage.getItem(n.localStorageId+":editor-tab");g!=null&&(i.selected=g),Z(n.state.code,m=>localStorage.setItem(n.localStorageId+":editor-code",m)),Z(()=>i.selected,m=>localStorage.setItem(n.localStorageId+":editor-tab",m))}}function s(){n.state.compile(n.state.code.value)}Z(n.state.code,s,{immediate:!0});const l=Se(),a=Se(!1);Gt(()=>{const m=l.value.clientHeight<500;a.value!=m&&(a.value=m)},{immediate:!0});function h(){return $("div",{class:"absolute-fill flex column gap-2 scroll p-2"},[n.state.errors.map(g=>$("div",{class:"border border-danger rounded pre-wrap monospace px-2",innerHTML:g},null))])}let c=null;const d=_t(null);function w(g){if(c&&(c.classList.remove("bg-warning-translucent"),c=null),d.value=null,g.target instanceof HTMLElement){const m=g.target.closest("[data-offset][data-length]");if(m){const y=+m.dataset.offset,k=+m.dataset.length;let S=m.dataset.lineOffset;S!=null&&(S=+S),c=m,c.classList.add("bg-warning-translucent"),d.value={offset:y,length:k,lineOffset:S}}}}const v=Jt(()=>{let g=null;return n.state.isLanguageService()&&(g=Je(g,{hintOptions:{hint:m=>n.state.getHints(m),updateOnCursorActivity:!0,completeSingle:!1},lint:{getAnnotations:(m,y,k)=>n.state.getAnnotations(m,k)}})),g=Je(g,n.config),g});return()=>{let g;const m=$("div",{class:["p-1 px-2 flex row gap-2",n.toolbarClass]},[$("div",{class:"flex-fill flex row gap-2"},[vt(e.slots,"default")]),!n.noRunButton&&$(ge,{onClick:s,variant:"success"},{default:()=>[X("Run "),$(xt,{icon:nn},null),X(" ")]})]),y=$("div",{class:"p-1 px-2"},[$(Le,{border:!0,class:"absolute left-0 bottom-0 ml-1",tabs:i},null)]),k=$("div",null,[$(Ct,{content:n.state.code.value,onChange:C=>n.state.code.value=C,class:"absolute-fill",highlight:d.value,mode:n.mode,config:v.value},null)]),S=$("div",{class:"flex column",ref:l},[$(xn,{class:"flex-fill",externalTabs:i,onMousemove:w,onMouseleave:w},{default:()=>[n.state.getOutput().map(C=>$(Xe,{name:C.name,key:C.name,label:C.label},{default:()=>[$("div",{class:"absolute-fill overflow-auto p-2"},[n.state.ready?typeof C.content=="string"?$("div",{class:"monospace pre-wrap",innerHTML:C.content},null):C.content():$("div",{class:"muted p-2"},[X("Waiting for compilation...")])])]})),a.value&&$(Xe,{name:"errors",label:"Errors"},kn(g=h())?g:{default:()=>[g]})]}),a.value==!1&&n.state.errors.length>0&&$("div",{class:"flex-basis-300 border-top",onMousemove:w,onMouseleave:w},[h()])]);return n.vertical?We($("div",{class:"flex-fill",style:ht().rows("auto",`${n.codeRatio??1}fr`,8,`${n.codeRatio!=null?1-n.codeRatio:1}fr`).$},[m,X(" "),k,X(" "),y,X(" "),S]),[[$e("child-class"),"border-bottom","head3"]]):We($("div",{class:"flex-fill",style:ht().columns(`${n.codeRatio??1}fr`,`${n.codeRatio!=null?1-n.codeRatio:1}fr`).rows("auto","1fr").$},[m,X(" "),y,X(" "),k,X(" "),S]),[[$e("child-class"),"border-right","odd"],[$e("child-class"),"border-bottom","head2"]])}}})),Tn=n=>n;function dt(n){return n==0?n+"":n+"px"}class Mt{_renderContent(e){return e.map(t=>this._renderNode(t))}_normalizeAttributes(e,t=null){if(e.attributes&&(t!=null?t=new Map(pn(e.attributes,t)):t=e.attributes),e.classList!=null){t!=null&&e.attributes==t&&(t=new Map(t)),t??(t=new Map);const r=t.get("class");t.set("class",r?r+" "+e.classList.join(" "):e.classList.join(" "))}if(e.color!=null)if(t!=null&&e.attributes==t&&(t=new Map(t)),t??(t=new Map),e.color.startsWith("#"))t.set("style",(t.get("style")??"")+`;color:${e.color}`);else{const r=t.get("class");t.set("class",r?r+" "+e.color:e.color)}for(const[r,i,s]of[["align","text-align",Tn],["width","width",dt],["height","height",dt]])e[r]!=null&&(t??(t=new Map),t.set("style",(t.get("style")??"")+`;${i}:${s(e[r])}`));return t}_renderSpan(e){const t=e.modifier=="bold"?"strong":e.modifier=="italics"?"em":e.modifier=="code"?"code":"span";return this._renderElement(t,this._normalizeAttributes(e),e.content)}_renderObject(e){const t=e.type=="media"?"img":e.type=="link"?"a":e.type=="raw"?e.value??"span":ne();let r=null;return e.value!=null&&(e.type=="media"?(r=new Map,r.set("src",e.value)):e.type=="link"&&(r=new Map,r.set("href",e.value))),this._renderElement(t,this._normalizeAttributes(e,r),e.content)}_renderSegment(e){const t=this._normalizeAttributes(e);if(t!=null||e.type!=null){const r=e.type=="ol"?"ol":e.type=="ul"?"ul":e.type=="li"?"li":e.type=="quote"?"blockquote":e.type=="p"?"p":e.type==4?"h4":e.type==3?"h3":e.type==2?"h2":e.type==1?"h1":ne();return this._renderElement(r,t,e.content)}else return this._renderElement("",null,e.content)}_renderCodeBlock(e){return this._renderElementRaw("pre",null,this._renderElementRaw("code",e.lang!=null?new Map([["class","language-"+e.lang]]):null,this._renderText(e.content)))}_renderTable(e){const t=[],r=[];for(const s of e.content)if(s.kind=="table-row"){if(s.header){t.push(s);continue}r.push(s)}const i=s=>this._renderElementRaw("tr",null,s.content.map(l=>this._renderElementRaw("td",null,this._renderNode(l))).join(""));return this._renderElementRaw("table",null,qe([t.length>0&&this._renderElementRaw("thead",null,t.map(i).join("")),r.length>0&&this._renderElementRaw("tbody",null,r.map(i).join(""))]).join(""))}_renderNode(e){if(e.kind=="text")return this._renderText(e.value);if(e.kind=="raw")return this._renderRaw(e.value);if(e.kind=="span")return this._renderSpan(e);if(e.kind=="object")return this._renderObject(e);if(e.kind=="segment")return this._renderSegment(e);if(e.kind=="code-block")return this._renderCodeBlock(e);if(e.kind=="table")return this._renderTable(e);ne()}render(e){return this._renderNode(e)}}class jn extends Mt{_renderAttributes(e=null){return e==null||e.size==0?"":" "+[...e].map(t=>`${t[0]}="${t[1]}"`).join(" ")}_renderText(e){return ke(e).replace(/\n/g,"<br>")}_renderRaw(e){return e}_renderElement(e,t,r){return e==""?this._renderContent(r).join(""):`<${e}${this._renderAttributes(t)}>${this._renderContent(r).join("")}</${e}>`}_renderElementRaw(e,t,r){return`<${e}${this._renderAttributes(t)}>${r}</${e}>`}}class z extends Error{constructor(e){super("__MSG"),this._message=e,this.name="DeserializationError",this.path="",this._isClientError=!0,this._oldMessage=this.message,this._oldStack=this.stack??"",this._updateMessage()}_updateMessage(){const e=`Invalid type at .${this.path} : ${this._message}`;this.message=this._oldMessage.replace(/__MSG/,e),this.stack=this._oldStack.replace(/__MSG/,e)}appendPath(e){this.path=`${e}${this.path?`.${this.path}`:this.path}`,this._updateMessage()}}class On{}class At{}class Nt extends On{createPrimitive(e){return e}createAtom(e){return e}createNull(){return null}createAny(e){return e}createObject(){return{}}addObjectProperty(e,t,r){r!=b.IGNORE_VALUE&&(e[t]=r)}createArray(){return[]}addArrayElement(e,t){t!=b.IGNORE_VALUE&&e.push(t)}createMap(){return{}}addMapProperty(e,t,r){r!=b.IGNORE_VALUE&&(e[t]=r)}finish(e){return e==b.IGNORE_VALUE?null:e}}class $t extends At{constructor(e){super(),this.root=e}getRootHandle(){return this.root}parsePrimitive(e){return e}parseAtom(e){return e}getTypeHint(e){if(typeof e=="string")return"string";if(typeof e=="number")return"number";if(typeof e=="boolean")return"boolean";if(e==null)return"null";if(typeof e=="object")return e instanceof Array?"array":"object";throw new TypeError("Cannot get type hint")}isNull(e){return e==null}parseAny(e){return e}parseObject(e){return typeof e!="object"||e==null||Array.isArray(e)?null:e}getObjectProperty(e,t){return t in e?e[t]:null}parseArray(e){return Array.isArray(e)?e:null}*getArrayElements(e){for(const t of e)yield t}parseMap(e){return this.parseObject(e)}*getMapProperties(e){for(const t of Object.entries(e))yield t}}class Cn extends At{constructor(e){super(),this.root=e}getRootHandle(){return this.root}parsePrimitive(e){return e}parseAtom(e){return e}isNull(e){return e==null}getTypeHint(e){if(typeof e=="string")return"string";if(typeof e=="number")return"number";if(typeof e=="boolean")return"boolean";if(e==null)return"null";if(typeof e=="object")return e instanceof Array?"array":"object";throw new TypeError("Cannot get type hint")}parseAny(e){return e}parseObject(e){return e}getObjectProperty(e,t){return e[t]}parseArray(e){return e}*getArrayElements(e){yield*e}parseMap(e){return e}*getMapProperties(e){yield*e}}const En=new Map;class b{constructor(){this._annotations=null}get definition(){return this.getDefinition("")}as(e,...t){return e(this,...t)}serialize(e,t=Nt){const r=new t,i=this._serialize(e,r);return r.finish(i)}deserialize(e,t=$t){const r=new t(e);return this._deserialize(r.getRootHandle(),r)}derive(e=Object.getPrototypeOf(this)){return Object.assign(Object.create(e),this)}annotate(...e){const t=e.map(i=>[i.constructor,i]),r=this.derive();return this._annotations==null?(r._annotations=new Map(t),r):(r._annotations=new Map([...this._annotations,...t]),r)}getMetadata(){return this._annotations==null?En:this._annotations}clone(e){return this.deserialize(e,Cn)}matches(e){try{return this.verify(e),!0}catch(t){if(t instanceof z)return!1;throw t}}}(n=>{var e,t,r,i,s,l,a;n.IGNORE_VALUE=Symbol.for("struct.ignore");function h(x){return x instanceof n}n.isType=h;class c extends n{constructor(o,p){super(),this.name=o,this._default=p,this._typeof=typeof this._default}getDefinition(o){return o+this.name}default(){return this._default}_serialize(o,p){return p.createAtom(o)}_deserialize(o,p){const O=p.parseAtom(o);if(typeof O!=this._typeof)throw new z("Expected "+this.name);return O}verify(o){if(typeof o!=this._typeof)throw new z("Expected "+this.name);return o}}n.AtomType=c,n.atom=new c("atom","");class d extends n{constructor(o,p){super(),this.name=o,this._default=p,this._typeof=typeof this._default}getDefinition(o){return o+this.name}default(){return this._default}_serialize(o,p){return p.createPrimitive(o)}_deserialize(o,p){const O=p.parsePrimitive(o);if(typeof O!=this._typeof)throw new z("Expected "+this.name);return O}verify(o){if(typeof o!=this._typeof)throw new z("Expected "+this.name);return o}}n.PrimitiveType=d,n.number=new d("number",0),n.boolean=new d("boolean",!1),n.string=new d("string",""),n.empty=new class extends d{verify(o){}_deserialize(o,p){}constructor(){super("empty",null)}};const w=Symbol.for("struct.isArray");n.isArray=x=>w in x;class v extends n{constructor(o){super(),this.elementType=o,this.name=this.elementType.name+"[]",this[e]=!0}getDefinition(o){return this.elementType.getDefinition(o)+"[]"}default(){return[]}_serialize(o,p){const O=p.createArray();for(const E of o){const N=this.elementType._serialize(E,p);p.addArrayElement(O,N)}return O}_deserialize(o,p){const O=[],E=p.parseArray(o);if(E==null)throw new z("Expected "+this.definition);let N=-1;for(const j of p.getArrayElements(E)){N++;let L;try{L=this.elementType._deserialize(j,p)}catch(F){throw F instanceof z&&F.appendPath(N.toString()),F}L!=n.IGNORE_VALUE&&O.push(L)}return O}verify(o){if(typeof o!="object"||o==null||!Array.isArray(o))throw new z("Expected "+this.definition);let p=-1;for(const O of o){p++;try{this.elementType.verify(O)}catch(E){throw E instanceof z&&E.appendPath(p.toString()),E}}return o}}e=w,n.ArrayType=v;function g(x){return new v(x)}n.array=g;const m=Symbol.for("struct.isMap");n.isMap=x=>m in x;class y extends n{constructor(o,p){super(),this.keyType=o,this.valueType=p,this.name=`Map<${this.keyType.name}, ${this.valueType.name}>`,this[t]=!0}getDefinition(o){return o+`Map<${this.keyType.definition}, ${this.valueType.definition}>`}default(){return new Map}_serialize(o,p){const O=p.createMap();for(const[E,N]of o){const j=this.keyType._serialize(E,p),L=this.valueType._serialize(N,p);p.addMapProperty(O,j,L)}return O}_deserialize(o,p){const O=new Map,E=p.parseMap(o);if(E==null)throw new z("Expected "+this.definition);let N=-1;for(const[j,L]of p.getMapProperties(E)){N++;let F,W;try{F=this.keyType._deserialize(j,p)}catch(G){throw G instanceof z&&G.appendPath(N.toString()),G}try{W=this.valueType._deserialize(L,p)}catch(G){throw G instanceof z&&G.appendPath(F.toString()),G}W!=n.IGNORE_VALUE&&O.set(F,W)}return O}verify(o){if(typeof o!="object"||o==null||!(o instanceof Map))throw new z("Expected "+this.definition);let p=-1;for(const[O,E]of o){p++;try{this.keyType.verify(O)}catch(N){throw N instanceof z&&N.appendPath(p.toString()),N}try{this.valueType.verify(E)}catch(N){throw N instanceof z&&N.appendPath(O.toString()),N}}return o}}t=m,n.MapType=y;function k(x,o){return new y(o??n.string,x)}n.map=k;const S=Symbol.for("struct.isObject");class C extends n{constructor(o,p){super(),this.name=o,this.props=p,this.propList=Object.entries(this.props),this[r]=!0,this._migrations=null}getDefinition(o){const p=[];p.push(o+this.name+" {");const O=o+"    ";for(const[E,N]of this.propList)p.push(`${O}${E}: ${N.definition}`);return p.push(o+"}"),p.join(`
`)}default(){const o=this._makeBase();for(const[p,O]of this.propList)o[p]=O.default();return o}_serialize(o,p){const O=p.createObject();this._migrations&&p.addObjectProperty(O,"!version",p.createPrimitive(this._migrations.currVersion));for(const[E,N]of this.propList){const j=o[E],L=N._serialize(j,p);p.addObjectProperty(O,E,L)}return O}_makeBase(){return{}}_deserialize(o,p){const O=this._makeBase(),E=p.parseObject(o);if(E==null)throw new z("Expected "+this.definition);if(this._migrations!=null){const N=this._migrations.currVersion,j=p.getObjectProperty(E,"!version");let L;if(p.isNull(j))L=-1;else try{L=n.number._deserialize(j,p)}catch(W){throw W instanceof z&&W.appendPath("!version"),W}let F;if(L<N){F=new Map;const W=this._migrations.list.findIndex(G=>G.version>L);if(W==-1)throw new Error("Cannot perform migration, source version is less than current version but there are no migrations newer than source version");for(let G=W;G<this._migrations.list.length;G++)this._migrations.list[G].migrate(E,p,F)}this._apply(O,E,p,F)}else this._apply(O,E,p);return O}_apply(o,p,O,E){for(const[N,j]of this.propList){if(E!=null&&E.has(N)){o[N]=E.get(N);continue}const L=O.getObjectProperty(p,N);let F;try{F=j._deserialize(L,O)}catch(W){throw W instanceof z&&W.appendPath(N),W}F!=n.IGNORE_VALUE&&(o[N]=F)}}defineMigrations(o){if(o.length==0)return;o=o.sort((O,E)=>O.version-E.version);const p=o[o.length-1].version;this._migrations={currVersion:p,list:o}}verify(o){if(typeof o!="object"||o==null)throw new z("Expected "+this.definition);for(const[p,O]of this.propList)try{O.verify(o[p])}catch(E){throw E instanceof z&&E.appendPath(p),E}return o}}r=S,n.ObjectType=C;class A extends C{constructor(o,p){super(o,{}),this._getter=p,Object.defineProperty(this,"props",{configurable:!0,enumerable:!0,get:()=>{if(this._getter==null)throw new Error("Tried to compute props on a LazyObjectType, but the getter was already set to null");const O={};return Object.defineProperty(this,"props",{value:O,enumerable:!0,configurable:!0,writable:!0}),this._getter(O),this._getter=null,O}}),Object.defineProperty(this,"propList",{configurable:!0,enumerable:!0,get:()=>{const O=Object.entries(this.props);return Object.defineProperty(this,"propList",{value:O,enumerable:!0,configurable:!0,writable:!0}),O}})}}n.LazyObjectType=A;class T extends C{constructor(o,p){super(o,p),this.props=p}}n.TypedObjectType=T;function I(x){return new T("$anon",x)}n.object=I;function H(x,o){return new T(x,o)}n.namedType=H;function D(x,o){return new A(x,o)}n.lazyNamedType=D;function U(x,o,p,O){return O?new class extends C{_makeBase(){return new x}default(){return O()}constructor(){super(o,p)}}:new class extends C{_makeBase(){return new x}constructor(){super(o,p)}}}n.objectWithClass=U,n.isObject=x=>S in x,n.partial=x=>new C("Partial<"+x.name+">",Object.fromEntries(x.propList.map(([o,p])=>[o,(0,n.isNullable)(p)?p:n.nullable(p)])));function V(x,...o){return new C("$anon",Object.fromEntries(o.map(p=>[p,x.props[p]])))}n.pick=V;function P(x,...o){return new C("$anon",Object.fromEntries(o.map(p=>[p,x.props[p]])))}n.omit=P;const R=Symbol.for("struct.isNullable");n.isNullable=x=>R in x;class Y extends n{constructor(o,p){super(),this.base=o,this.skipNullSerialize=p,this.name=this.base.name+" | "+null,this[i]=!0}getDefinition(o){return this.base.getDefinition(o)+" | "+null}default(){return null}_serialize(o,p){return o==null?this.skipNullSerialize?n.IGNORE_VALUE:p.createNull():this.base._serialize(o,p)}_deserialize(o,p){return p.isNull(o)?null:this.base._deserialize(o,p)}verify(o){return o==null?null:this.base.verify(o)}}i=R,n.NullableType=Y;function Q(x,{skipNullSerialize:o=!1}={}){return new Y(x,o)}n.nullable=Q;const ee=Symbol.for("struct.isOptional");n.isOptional=x=>ee in x;class Oe extends n{constructor(o,p){super(),this.base=o,this.defaultFactory=p,this.name=this.base.name+"?",this[s]=!0}getDefinition(o){return this.base.getDefinition(o)+"?"}default(){return this.defaultFactory==null?this.base.default():this.defaultFactory()}_serialize(o,p){return this.base._serialize(o,p)}_deserialize(o,p){return p.isNull(o)?this.default():this.base._deserialize(o,p)}verify(o){return this.base.verify(o)}}s=ee,n.OptionalType=Oe;function De(x,o){return new Oe(x,o??null)}n.optional=De;const Ce=Symbol.for("struct.isPassthrough");n.isPassthrough=x=>Ce in x;class Ee extends n{constructor(o,p){super(),this.name=o,this.defaultFactory=p,this[l]=!0}getDefinition(o){return o+this.name}default(){return this.defaultFactory()}_serialize(o,p){return p.createAny(o)}_deserialize(o,p){return p.parseAny(o)}verify(o){return o}}l=Ce,n.PassthroughType=Ee;function be(x,o="passthrough"){if(x!=null&&typeof x!="function"){const p=x;x=()=>p}return new Ee(o,x??(()=>{throw new Error("Cannot create a default value of "+o)}))}n.passthrough=be,n.any=be("any");const ye=Symbol.for("struct.isEnum");n.isEnum=x=>ye in x;class Be extends n{constructor(o){super(),this.entries=o,this.name=this.entries.join(" | "),this[a]=!0,this._entries=new Set(this.entries)}getDefinition(o){return o+this.name}default(){return this.entries[0]}_serialize(o,p){return p.createPrimitive(o)}_deserialize(o,p){const O=p.parsePrimitive(o);if(!this._entries.has(O))throw new z("Expected "+this.name);return O}verify(o){if(!this._entries.has(o))throw new z("Expected "+this.name);return o}}a=ye,n.EnumType=Be,n.byKeyProperty=(x,o,p,O)=>new class extends n{constructor(){super(...arguments),this.name=x}getDefinition(E){return E+this.name}default(){return O()}_serialize(E,N){return n.string._serialize(E[o],N)}_deserialize(E,N){let j;try{j=n.string._deserialize(E,N)}catch(F){throw F instanceof z?new z("Expected "+this.name):F}const L=typeof p=="function"?p(j):p.get(j);if(L==null)throw new z(`Invalid ${x} ${o.toString()} "${j}"`);return L}verify(E){if(typeof E!="object"||E==null||!(o in E))throw new z("Expected "+this.name);const N=E[o],j=typeof p=="function"?p(N):p.get(N);if(j==null)throw new z(`Invalid ${x} ${o.toString()} "${N}"`);if(j!=E)throw new z(`Invalid ${x} ${N}, ${o.toString()} matches but the value does not equal`);return E}};function Ve(x,o,p,O){O??(O=()=>null);const E=new Map(Object.entries(p));return new class extends n{constructor(){super(...arguments),this.name=x}getDefinition(N){return N+x}default(){return O()}_serialize(N,j){const L=N[o],F=E.get(L);if(F==null)throw new z(`Invalid ${x} ${o.toString()} "${L}"`);return F._serialize(N,j)}_deserialize(N,j){const L=j.parseObject(N);if(L==null)throw new z("Expected "+this.definition);const F=j.getObjectProperty(L,o.toString());let W;try{W=n.string._deserialize(F,j)}catch(ae){throw ae instanceof z&&ae.appendPath(o.toString()),ae}const G=E.get(W);if(G==null)throw new z(`Invalid ${x} ${o.toString()} "${W}"`);return G._deserialize(L,j)}verify(N){if(typeof N!="object"||N==null||!(o in N))throw new z("Expected "+this.name);const j=N[o],L=E.get(j);if(L==null)throw new z(`Invalid ${x} ${o.toString()} "${j}"`);return L.verify(N)}}}n.byKeyUnion=Ve;function Me(x,o){const p=x.constructor;class O extends p{default(){return o()}}return x.derive(O.prototype)}n.withDefault=Me})(b||(b={}));function Mn(...n){return new b.EnumType(n)}b.enum=Mn;var J;(n=>{function e(g){if(b.isType(g))return g;const m=t(g);if(m==null)throw new Error("Cannot get base type, because the value is not a struct instance");return"baseType"in m?m.baseType:m}n.getBaseType=e;function t(g){if(b.isType(g))return g;if(typeof g=="function"){if("baseType"in g&&"ref"in g)return g.ref();throw new Error("Value is not a struct")}else return t(g.constructor)}n.getType=t,n.DECORATOR_FIELD=Symbol.for("struct.decoratorField");class r{constructor(m,y){this.name=m,this._source=y,this._props=null,this._defaultFields=null,this.getProps=k=>{if(this._props!=null)return k!=this._props&&Object.assign(k,this._props),this._props;if(typeof this._source!="function")return this._defaultFields=Object.fromEntries(Object.keys(this._source).map(A=>[A,null])),Object.assign(k,this._source),this._props=k,this._source=null,this._props;const S={},C=new this._source;for(const[A,T]of Object.entries(C))if(T instanceof w){if(k[A]=T.type,n.DECORATOR_FIELD in T.type)continue;S[A]=null;continue}return this._props=k,this._defaultFields=S,this._source=null,this._props}}getObjectType(){return typeof this._source=="function"?new b.LazyObjectType(this.name,this.getProps):new b.TypedObjectType(this.name,this.getProps({}))}getDefaultFields(){return this._defaultFields??(this.getProps({}),this._defaultFields)}}function i(g,m,y,k){const S=new r(g,m);let C=S.getObjectType();k!=null&&k.baseTypeDecorator&&(C=k.baseTypeDecorator(C));const A=new Map,I=class I extends(y??Object){serialize(){return this.constructor.ref().serialize(this)}constructor(D){super(),Object.assign(this,S.getDefaultFields(),D??{}),"_postDeserialize"in this&&this._postDeserialize()}static ref(){const D=A.get(this);if(D)return D;const U=this,V=C.derive((class extends C.constructor{_makeBase(){return new U}}).prototype);return A.set(this,V),V}static default(){return this.ref().default()}static deserialize(D){return this.ref().deserialize(D)}};I.baseType=C;let T=I;return T}n.define=i;const s=b.object({"!type":b.atom});class l extends b{constructor(m,y){super(),this.name=m,this.types=y}getDefinition(m){return m+this.name}default(){return null}verify(m){return n.getBaseType(m).verify(m)}_serialize(m,y){const k=n.getBaseType(m),S=k._serialize(m,y);return y.addObjectProperty(S,"!type",k.name),S}_deserialize(m,y){const k=s._deserialize(m,y)["!type"],S=this.types.get(k);if(S==null)throw new z(`Cannot find type "${k}"`);try{return S._deserialize(m,y)}catch(C){throw C instanceof z&&C.appendPath(`(${k})`),C}}}class a{constructor(m){this.name=m,this._types=new Map,this._ref=new l(this.name,this._types)}get base(){return this._ref}getTypes(){return this._types}getTypeNames(){return[...this._types.keys()]}register(m){const y=t(m);this._types.set(e(y).name,y)}ref(){return this.base}}n.PolymorphicSerializer=a;const h=b.object({"!type":b.atom,id:b.string});class c extends b{constructor(m,y){super(),this.name=m,this.contextGetter=y}getDefinition(m){return m+this.name}default(){return null}verify(m){return n.getBaseType(m).verify(m)}_serialize(m,y){return y.createPrimitive(m.id)}_deserialize(m,y){const k=b.string._deserialize(m,y),S=this.contextGetter(k);if(S==null)throw new z(`Cannot resolve reference to "${k}"`);return S}}class d extends a{constructor(m){super(m),this._contextGetter=null,this._graphRef=new c(this.name,y=>{if(this._contextGetter==null)throw new z("Cannot deserialize polymorphic graph reference outside of context");return this._contextGetter(y)})}get base(){return this._graphRef}createContext(m,y){if(this._contextGetter!=null)throw new Error("Cannot create context, context already exists");try{this._contextGetter=m,y()}finally{this._contextGetter=null}}deserialize(m,y=$t){if(this._contextGetter!=null)throw new Error("Cannot create context, context already exists");const k=new y(m),S=k.parseArray(k.getRootHandle());if(S==null)throw new z("Expected array of objects");try{const C=new Map;this._contextGetter=T=>{var I;return(I=C.get(T))==null?void 0:I.instance};let A=-1;for(let T of k.getArrayElements(S)){A++;const I=k.parseObject(T);if(I==null)throw new z("Expected object").appendPath(A.toString());try{const{["!type"]:H,id:D}=h._deserialize(I,k),U=this._types.get(H);if(U==null){const P=new z(`Cannot find type "${H}"`);throw P.appendPath(D),P}const V=U.default();C.set(D,{instance:V,data:I,type:U})}catch(H){throw H instanceof z&&H.appendPath(A.toString()),H}}A=-1;for(const{instance:T,data:I,type:H}of C.values()){A++;try{Object.assign(T,n.getBaseType(H)._deserialize(I,k)),"_postDeserialize"in T&&T._postDeserialize()}catch(D){throw D instanceof z&&D.appendPath(A.toString()),D}}return[...C.values()].map(T=>T.instance)}finally{this._contextGetter=null}}serialize(m,y=Nt){const k=new y,S=k.createArray();for(const C of m){const A=this._ref._serialize(C,k);k.addArrayElement(S,A)}return S}removeReferences(m,y){const k=(S,C,A)=>{if(b.isNullable(C)){if(S==null)return;C=C.base}if(b.isObject(C))for(const[T,I]of C.propList){const H=S[T],D=A+T;if(H==m)if(b.isNullable(I))S[T]=null;else if(b.isOptional(I))S[T]=I.default();else throw new Error(`Cannot remove reference, property ${JSON.stringify(D)} is not nullable (${I.name})`);else k(H,I,D)}else if(b.isMap(C))for(const[T,I]of[...S]){const H=S[T];H==m?S.delete(T):k(H,C.valueType,A+"."+T)}else if(b.isArray(C))for(let T=0;T<S.length;T++){const I=S[T];I==m?(S.splice(T,1),T--):k(I,C.elementType,A+"."+T)}};for(const S of y)k(S,n.getType(S),"")}}n.PolymorphicGraphSerializer=d;class w{constructor(m){this.type=m}}n.FieldInfo=w;function v(g){return new w(g)}n.field=v})(J||(J={}));const An=["white","black","primary","secondary","success","danger","warning"];class Nn extends b.EnumType{_deserialize(e,t){const r=t.parsePrimitive(e);return r.startsWith("#")&&r.length==7?r:super._deserialize(e,t)}constructor(){super(An)}}const $n=new Nn,he=new J.PolymorphicSerializer("SyntaxNode");he.base;const _e={modifier:b.enum("bold","italics","code").as(b.nullable,{skipNullSerialize:!0}),color:$n.as(b.nullable,{skipNullSerialize:!0}),classList:b.string.as(b.array).as(b.nullable,{skipNullSerialize:!0}),attributes:b.string.as(b.map).as(b.nullable,{skipNullSerialize:!0}),align:b.enum("left","center","right").as(b.nullable,{skipNullSerialize:!0}),width:b.number.as(b.nullable,{skipNullSerialize:!0}),height:b.number.as(b.nullable,{skipNullSerialize:!0})};class se{constructor(){this._metadata=null}setMetadata(e,t){(this._metadata??(this._metadata=new Map)).set(e,t)}getMetadata(e){return this._metadata==null?null:this._metadata.get(e)??null}}var M;(n=>{class e extends J.define("Text",{value:b.string},se){constructor(){super(...arguments),this.kind="text"}}n.Text=e;class t extends J.define("Raw",{value:b.string},se){constructor(){super(...arguments),this.kind="raw"}}n.Raw=t;class r extends J.define("Span",{..._e,content:he.base.as(b.array)},se){constructor(){super(...arguments),this.kind="span"}}n.Span=r;class i extends J.define("CodeBlock",{lang:b.string.as(b.nullable),content:b.string},se){constructor(){super(...arguments),this.kind="code-block"}}n.CodeBlock=i;class s extends J.define("Object",{..._e,content:he.base.as(b.array),value:b.string.as(b.nullable),type:b.enum("link","media","raw")},se){constructor(){super(...arguments),this.kind="object"}}n.Object=s;class l extends J.define("Table",{..._e,content:he.base.as(b.array)},se){constructor(){super(...arguments),this.kind="table"}}n.Table=l;class a extends J.define("TableRow",{..._e,content:he.base.as(b.array),header:b.boolean},se){constructor(){super(...arguments),this.kind="table-row"}}n.TableRow=a;class h extends J.define("Segment",{..._e,type:b.enum("p",1,2,3,4,"ul","ol","li","quote").as(b.nullable),content:he.base.as(b.array)},se){constructor(){super(...arguments),this.kind="segment"}}n.Segment=h})(M||(M={}));for(const n of Object.values(M))he.register(n);class ze{parseVerbatimContent(e){return[new M.Raw({value:e})]}}class Pt{}function Pn(n,e){const t=n[e];return t=="*"||t=="_"||t=="\\"||t=="`"||t==`
`||t=="!"||t=="["||t=="]"||t=="}"||t=="<"}function Ye(n,e){return n[e]=="}"||xe(n,e)||n[e]==">"||n[e]=="/"}function Ln(n,e){return n[e]=="="||Ye(n,e)}function zn(n,e){return n[e]==" "||n[e]=="	"}function Rn(n,e){return n[e]==";"||xe(n,e)}function In(n,e){return n[e]=="-"||Ot(n,e)||n[e]==":"}class Lt extends kt{constructor(e,t){if(super(e),this.widgets=new J.PolymorphicSerializer("MmlWidget"),t!=null&&t.widgets)for(const r of t.widgets)this.widgets.register(r)}_parseInlineCssProperty(e,t,r){if(e=="color"&&t.startsWith("#"))return r??(r=new M.Span({content:[]})),r.color=t,r;if(e=="text-align")try{const i=M.Span.baseType.props.align.verify(t);return r??(r=new M.Span({content:[]})),r.align=i,r}catch(i){if(i instanceof z)return r;throw i}if(e=="width"||e=="height"){const i=parseInt(t);if(!isNaN(i))return r??(r=new M.Span({content:[]})),r[e]=i,r}return e=="font-weight"&&t.startsWith("700")&&(r??(r=new M.Span({content:[]})),r.modifier="bold"),r}parseInlineCss(e){for(;!this.isDone();){if(this.consume('"'))return e;this.skipWhile(Rn);const t=this.readUntil(":");if(this.index++,this.isDone())break;const r=this.readUntil(";");e=this._parseInlineCssProperty(t,r,e)}return e}parseFragment(e,t=[]){for(;!this.isDone();){const r=this.readUntil(Pn);if(r.trim()!=""){const c=t.at(-1);c&&c.kind=="text"?c.value+=r:t.push(new M.Text({value:r}))}if(this.isDone()||e!=null&&this.consume(e))break;if(this.consume("\\")){const c=this.getCurrent();this.index++;const d=t.at(-1);d&&d.kind=="text"?d.value+=c:t.push(new M.Text({value:c}));continue}let i=null;const s=xe(this.at(-1),0);let l=null;if(s&&(l=this.consume(["**","__"]))){const c=this.parseFragment(l);i=new M.Span({content:c,modifier:"bold"})}else if(s&&(l=this.consume(["*","_"]))){const c=this.parseFragment(l);i=new M.Span({content:c,modifier:"italics"})}else if(s&&this.consume("`")){const c=this.parseFragment("`");i=new M.Span({content:c,modifier:"code"})}else if(this.consume("[")){const c=this.parseFragment("]");if(i=new M.Object({content:c,type:"link"}),this.consume("(")){const d=this.readUntil(")");i.value=d,this.index++}}else if(this.consume("![")){const c=this.readUntil("]");if(this.index++,i=new M.Object({content:[],type:"media",attributes:new Map([["alt",c]])}),this.consume("(")){const d=this.readUntil(")");i.value=d,this.index++}}else if(this.consume("<")){const c=this.readWhile(In),d=this.widgets.getTypes().get(c),w=(d==null?void 0:d.getMetadata().get(Pt))!=null;i=new M.Object({content:[],type:"raw",value:c});let v=!1;for(;!this.isDone()&&(this.skipWhile(xe),!this.consume(">"));){if(this.consume("/>")){v=!0;break}const m=this.index;this.parseAttribute(i),this.index==m&&this.index++}if(v)w&&(i.content=[new M.Raw({value:""})]);else{const m=`</${c}>`;w?(i.content=[new M.Raw({value:this.readUntil(m)})],this.index+=m.length):i.content=this.parseFragment(m)}const g=this.widgets.getTypes().get(c);if(g!=null){const m=i.attributes?Object.fromEntries([...i.attributes].map(([S,C])=>C==""?[S,!0]:[S,C])):{};m["!type"]=c;const y=this.widgets.base.deserialize(m),k=i.attributes?new Map(i.attributes):null;if(i=y.getValue(this,i.content),i&&k){b.isObject(g)||ne();for(const[S]of g.propList)k.delete(S);i.attributes?i.attributes=yn(k,i.attributes):i.attributes=k}}}if(i!=null){if(t.push(i),this.consume("{"))for(;!this.isDone()&&(this.skipWhile(xe),!this.consume("}"));){const c=this.index;this.parseAttribute(i),this.index==c&&this.index++}continue}const a=this.getCurrent(),h=t.at(-1);h&&h.kind=="text"?h.value+=a:t.push(new M.Text({value:a})),this.index++}return t}parseAttribute(e){if(this.consume(".")){const i=this.readUntil(Ye);e.classList??(e.classList=[]),e.classList.push(i);return}const t=this.readUntil(Ln);let r=null;t!=""&&(this.consume("=")&&(this.consume('"')?(r=this.readUntil('"'),this.index++):r=this.readUntil(Ye)),e.attributes??(e.attributes=new Map),e.attributes.set(t,r??""))}parseIndent(){return this.readWhile(zn).length}parseSegmentType(){const e=this.index;let t=null;return this.readWhile(Ke)&&this.consume([".",")"])?t="ol":(this.index=e,this.consume(["- ","+ ","* "])&&(t="ul")),t}parseTextBlock(){return new M.Segment({type:"p",content:this.parseFragment(`
`)})}parseSegment(e,t){let r=null;for(;!this.isDone();){const i=this.index,s=this.parseIndent();if(s<e){this.index=i;return}if(this.consume("```")){const c=this.readUntil(`
`).trim();this.index++;const d=this.readUntil("```");this.index+=3;const w=new M.CodeBlock({lang:c!=""?c:null,content:d});r=w,t.content.push(w);continue}let l=null;if(this.consume("####")?l=4:this.consume("###")?l=3:this.consume("##")?l=2:this.consume("#")&&(l=1),l!=null){const c=this.parseTextBlock();c.type=l,r=c,t.content.push(c);continue}if(this.consume(">")){let c;(r==null?void 0:r.kind)=="segment"&&r.type=="quote"?c=r:(c=new M.Segment({type:"quote",content:[]}),t.content.push(c));const d=this.parseTextBlock();c.content.push(d),r=c,this.parseSegment(s+1,c);continue}if(this.consume(["- ","+ ","* "])){let c;(r==null?void 0:r.kind)=="segment"&&r.type=="ul"?c=r:(c=new M.Segment({type:"ul",content:[]}),t.content.push(c));const d=new M.Segment({type:"li",content:[]});c.content.push(d);const w=this.parseTextBlock();d.content.push(w),r=c,this.parseSegment(s+1,d);continue}const a=this.index;if(this.readWhile(Ke)&&this.consume([".",")"])){let c;(r==null?void 0:r.kind)=="segment"&&r.type=="ol"?c=r:(c=new M.Segment({type:"ol",content:[]}),t.content.push(c));const d=new M.Segment({type:"li",content:[]});c.content.push(d);const w=this.parseTextBlock();d.content.push(w),r=c,this.parseSegment(s+1,d);continue}else this.index=a;const h=this.parseTextBlock();if(h.content.length==0){r=null;continue}t.content.push(h),r=h}}parseDocument(){const e=new M.Segment({content:[]});return this.parseSegment(0,e),e}}class Te extends Mt{constructor(){super(...arguments),this.allowedComponents=new Set,this.usedComponents=new Set,this.allowProperties=!1,this._manifest=null}get manifest(){return this._manifest??(this._manifest=new Te.PropertyManifest)}addAllowedComponent(...e){for(const t of e)this.allowedComponents.add(t);return this}_renderAttributes(e){return e==null?"{}":JSON.stringify(Object.fromEntries(e))}_renderText(e){return JSON.stringify(e)}_renderRaw(e){return JSON.stringify(e)}_renderElement(e,t,r){if(e=="")return r.length==0?"[]":r.length==1?this._renderNode(r[0]):"["+this._renderContent(r).join(", ")+"]";if(e=="<>vue-prop"){if(!this.allowProperties)return JSON.stringify("Usage of Vue properties is disabled");const l=t==null?void 0:t.get("name");if(l==null)return JSON.stringify("Vue property name not provided");const a=t==null?void 0:t.get("use");this.manifest.ensureProperty(l);const h=`[${this._renderContent(r).join(", ")}]`;return a!=null?(this.manifest.renderers.add(a),`props.${l} ? ${a}(props.${l}) : ${h}`):`props.${l} ? props.${l} : ${h}`}if(e=="<>vue-decl"){if(!this.allowProperties)return JSON.stringify("Usage of Vue properties is disabled");const l=t==null?void 0:t.get("name");if(l==null)return JSON.stringify("Vue property name not provided");const a=t==null?void 0:t.get("required"),h=this.manifest.ensureProperty(l);return a&&(h.required=!0),r.length>0&&(h.default=`() => [${this._renderContent(r).join(", ")}]`),"[]"}const i=this.allowedComponents.has(e);if(lt(e,0)||i)if(i){this.usedComponents.add(e);const l=r.length==0?"null":r.length==1?this._renderNode(r[0]):this._renderContent(r).join(", ");return`h(${e}, ${this._renderAttributes(t)}, () => ${l})`}else e="span";const s=r.length==0?"":", "+this._renderContent(r).join(", ");return`h(${JSON.stringify(e)}, ${this._renderAttributes(t)}${s})`}_renderElementRaw(e,t,r){if(e=="")return r;const i=this.allowedComponents.has(e);if(lt(e,0)||i){if(i)return this.usedComponents.add(e),`h(${e}, ${this._renderAttributes(t)}, () => ${r})`;e="span"}return`h(${JSON.stringify(e)}, ${this._renderAttributes(t)}, ${r})`}_renderObject(e){return!e.type&&e.value!=null&&!e.value.match(/^[a-z]+:\/\//)?this._renderElement("RouterLink",this._normalizeAttributes(e,new Map([["to",e.value]])),e.content):super._renderObject(e)}render(e){const t=["h"],r=this.renderContent(e);return this.usedComponents.size>0&&t.push(...this.usedComponents),`(({${[...t].join(", ")}}) => ${r})`}renderContent(e){return`() => ${this._renderNode(e)}`}}(n=>{class e extends J.define("Prop",{name:b.string,use:b.string.as(b.nullable)},ze){getValue(s,l){return new M.Object({type:"raw",value:"<>vue-prop",content:l,attributes:new Map(qe([["name",this.name],this.use!=null&&["use",this.use]]))})}}n.PropertyWidget=e;class t extends J.define("Declare",{name:b.string,required:b.boolean.as(b.nullable)},ze){getValue(s,l){return new M.Object({type:"raw",value:"<>vue-decl",content:l,attributes:new Map(qe([["name",this.name],this.required&&["required",""]]))})}}n.PropertyDeclarationWidget=t;class r{constructor(){this.properties=new Map,this.renderers=new Set}ensureProperty(s){return on(this.properties,s,()=>({default:null,required:!1}))}}n.PropertyManifest=r})(Te||(Te={}));class Dn extends J.define("Math",{equation:b.boolean.as(b.nullable),full:b.boolean.as(b.nullable)},ze,{baseTypeDecorator(e){return e.annotate(new Pt)}}){getValue(e,t){const r=t[0];r instanceof M.Raw||ne();let i=r.value;return this.full&&(i="\\displaystyle"+i),new M.Span({content:[new M.Raw({value:this.equation?"\\["+i+"\\]":"$"+i+"$"})]})}}const rt=class rt extends J.define("LaTeXTableOptions",{widths:b.number.as(b.array),types:b.string.as(b.array),compact:b.boolean,naked:b.boolean,long:b.boolean,before:b.string.as(b.nullable),after:b.string.as(b.nullable)}){};rt.tagname="<>latex-table-options";let de=rt;class Bn extends J.define("TableOptions",{widths:b.string.as(b.nullable),types:b.string.as(b.nullable),compact:b.boolean.as(b.nullable),naked:b.boolean.as(b.nullable),long:b.boolean.as(b.nullable),before:b.string.as(b.nullable),after:b.string.as(b.nullable)},ze){getValue(e,t){const r=de.default();if(this.widths){const s=this.widths.split("|").map(l=>parseFloat(l));s.some(isNaN)||(r.widths=s)}return this.types&&(r.types=this.types.split("")),this.compact&&(r.compact=!0),this.naked&&(r.naked=!0),this.long&&(r.long=!0),r.before=this.before,r.after=this.after,new M.Object({type:"raw",value:de.tagname,content:[],attributes:new Map([["value",JSON.stringify(r.serialize())]])})}}const ft={widgets:[Dn,Bn],shortcuts:[]},Vn=[{start:"[[",end:"]]",object:"cite"}],Fn=[{start:"$$MATH{{",end:"}}$$",object:"Math"},{start:"$$MATH1{{",end:"}}$$",prefix:"<Math pragma-spc1>"},{start:"$$MATH0{{",end:"}}$$",prefix:"<Math pragma-spc>"},{start:/(?:\xa0|&nbsp;| )&lt;&lt;/,end:/&gt;&gt;(?:\xa0|&nbsp;| )/,prefix:"<Math pragma-spc1>"},{start:/(?:\xa0|&nbsp;| )&lt;&lt;/,end:"&gt;&gt;",prefix:"<Math pragma-spc>"},{start:"&lt;&lt;",end:/&gt;&gt;(?:\xa0|&nbsp;| )/,prefix:"<Math pragma-spc0>"},{start:"&lt;&lt;",end:"&gt;&gt;",prefix:"<Math>"}];class oe{constructor(e){this.shortcuts=[{start:"$$EMBED{{",end:"}}$$"},{start:"$$NOTE{{",end:"}}$$",object:"__discard__"}],this._shortcutMatches=[],this._embedParser=new oe.InlineCssParser("",e),e!=null&&e.shortcuts&&this.shortcuts.push(...e.shortcuts),this.forceTableHeader=(e==null?void 0:e.forceTableHeader)??!0}get widgets(){return this._embedParser.widgets}set widgets(e){this._embedParser.widgets=e}importStyle(e,t){const r=e.getAttribute("style");return r?this._embedParser.clone(r).parseInlineCss(t):t}importContent(e,t){for(const r of e){const i=this.importNode(r);i!=null&&t.content.push(i)}this.normalizeContent(t.content,0)}normalizeContent(e,t){for(let r=t;r<e.length;r++){const i=e[r];if(r<e.length-1){const s=e[r+1];if(i.kind=="segment"&&(i.type=="ul"||i.type=="ol")&&s.kind=="segment"&&s.type==i.type&&i.content.length>0&&s.content.length>0){const l=i.content[0].getMetadata(oe.META_MARGIN_LEFT),a=s.content[0].getMetadata(oe.META_MARGIN_LEFT);if(l!=null&&a!=null){if(l==a-36){this.normalizeContent(e,r+1);const h=i.content.at(-1);h&&h.kind=="segment"&&h.type=="li"?h.content.push(e[r+1]):i.content.push(new M.Segment({type:"li",content:[e[r+1]]})),e.splice(r+1,1),r--;continue}else if(l==a){this.normalizeContent(e,r+1),i.content.push(...s.content),e.splice(r+1,1),r--;continue}}}}}}importTable(e){const t=M.Table.default();return this.importTableRows(e,t,!1),t}importTableRows(e,t,r){for(const i of e.childNodes)if(i instanceof HTMLElement){if(i.tagName=="TBODY"){this.importTableRows(i,t,!1);continue}if(i.tagName=="THEAD"){this.importTableRows(i,t,!0);continue}if(i.tagName=="TR"){const s=M.TableRow.default();s.header=r,t.content.push(s);for(const l of i.childNodes){if(!(l instanceof HTMLElement)||l.tagName!="TD")continue;const a=this.importElement(l);a!=null&&s.content.push(a)}continue}}}importElement(e){let t=null;if(e.tagName=="B"||e.tagName=="STRONG")t=new M.Span({modifier:"bold",content:[]});else if(e.tagName=="I"||e.tagName=="EM")t=new M.Span({modifier:"italics",content:[]});else if(e.tagName=="CODE"||e.tagName=="CODE")t=new M.Span({modifier:"italics",content:[]});else if(e.tagName=="UL")t=new M.Segment({type:"ul",content:[]});else if(e.tagName=="LI")t=new M.Segment({type:"li",content:[]});else if(e.tagName=="OL")t=new M.Segment({type:"ol",content:[]});else if(e.tagName=="H1")t=new M.Segment({type:1,content:[]});else if(e.tagName=="H2")t=new M.Segment({type:2,content:[]});else if(e.tagName=="H3")t=new M.Segment({type:3,content:[]});else if(e.tagName=="H4")t=new M.Segment({type:4,content:[]});else if(e.tagName=="DIV")t=new M.Segment({content:[]});else if(e.tagName=="P")t=new M.Segment({type:"p",content:[]});else if(e.tagName=="IMG")t=new M.Object({type:"media",value:e.src,content:[]});else if(e.tagName=="A")t=new M.Object({type:"link",value:e.href,content:[]});else{if(e.tagName=="TABLE")return this.importTable(e);if(e.tagName=="BR")return new M.Text({value:`
`})}t=this.importStyle(e,t);const r=e.childNodes;return r.length==0?t:t==null&&r.length==1?this.importNode(r[0]):(t??(t=new M.Span({content:[]})),this.importContent(r,t),t)}importTextNode(e){let t=e.textContent;return t==null||(t=t.trim(),t=="")?null:new M.Text({value:t})}importNode(e){if(e instanceof Text)return this.importTextNode(e);if(e instanceof HTMLElement)return this.importElement(e);if(e instanceof Comment){const t=e.textContent;if(t==null)return null;for(const{regexp:r,shortcut:i}of this._shortcutMatches){const s=t.match(r);if(s){if(i.object=="__discard__")break;const l=s[1],a=document.createElement("template");a.innerHTML=l;let h=this.flattenIntoText(a.content);i.object&&(h=`<${i.object}>${h}</${i.object}>`),i.prefix!=null&&(h=i.prefix+h),i.suffix!=null&&(h=i.suffix+h);const c=this._embedParser.clone(h);if(h.includes(`
`))return c.parseDocument();{const d=new M.Span({content:[]});return c.parseFragment(null,d.content),d}}}}return null}flattenIntoText(e){const t=[];return this.flattenNode(e,t),t.join("")}flattenNode(e,t){if(e instanceof Text)t.push(e.textContent??"");else if(e instanceof HTMLElement||e instanceof DocumentFragment){if(e instanceof HTMLElement&&e.tagName=="BR"){t.push(`
`);return}for(const r of e.childNodes)this.flattenNode(r,t)}}importDocument(e){const t=new M.Segment({content:[]}),r=e.childNodes;return this.importContent(r,t),t}importHtml(e){const t=document.createElement("template");if(this.shortcuts.length>0){const i=new RegExp(`(${this.shortcuts.map(l=>typeof l.start=="string"?ve(l.start):`(?:${l.start.source})`).join("|")})`,"g"),s=new RegExp(`(${this.shortcuts.map(l=>typeof l.end=="string"?ve(l.end):`(?:${l.end.source})`).join("|")})`,"g");t.innerHTML=e.replace(i,"<!--$1").replace(s,"$1-->")}else t.innerHTML=e;this._shortcutMatches=this.shortcuts.map(i=>({regexp:new RegExp(`^(?:${typeof i.start=="string"?ve(i.start):i.start.source})(.*)(?:${typeof i.end=="string"?ve(i.end):i.end.source})$`,""),shortcut:i}));const r=t.content;return this.importDocument(r)}}(n=>{n.META_MARGIN_LEFT="META_MARGIN_LEFT";class e extends Lt{_parseInlineCssProperty(r,i,s){return r=="margin-left"?(s??(s=new M.Span({content:[]})),s.setMetadata(n.META_MARGIN_LEFT,parseInt(i)),s):super._parseInlineCssProperty(r,i,s)}}n.InlineCssParser=e})(oe||(oe={}));const ce=-1,pt=-2;class Hn{constructor(){this._target=null,this._result=null,this._index=-1,this._value=null,this.wasDropped=!1}get wasModified(){return this._target!=this._result}isDone(){return this._index==ce?!1:this._index==pt?!0:!(this._index<this._target.length)}next(){if(this.wasDropped=!1,this._index==ce)return this._result=this._target,this._target=null,this._index=pt,this._value=this._result;if(this._index>=0&&this._index<this._target.length){const e=this._target[this._index++];return this.wasModified&&this._result.push(e),this._value=e}throw new RangeError("No more elements available")}peek(){if(this._index==ce)return this._target;if(this._index>=0&&this._index<this._target.length)return this._target[this._index];throw new RangeError("No more elements available")}drop(){this.wasDropped||(this.wasDropped=!0,this._index<=ce?this._result=null:this._index>=0&&(this.wasModified?this._result.pop():this._result=this._target.slice(0,this._index-1)))}replace(e){if(this._value=e,this.wasDropped){this.wasDropped=!1,this._index<=ce?this._result=e:this._result.push(e);return}this._index<=ce?this._result=e:this._index>=0&&(this.wasModified?this._result.splice(-1,1,e):this._result=[...this._target.slice(0,this._index-1),e])}transform(e){return this._index=ce,this._target=e,this._result=e,this.process(),this._result}transformArray(e){return this._index=0,this._target=e,this._result=e,this.process(),this._result}processChildren(e){const t=this._getChildren();if(t==null)return;const r=Ie(this);e&&Object.assign(r,e);const i=r.transformArray(t);r.wasModified&&this.applyChildren(i)}process(){for(;!this.isDone();)this.next(),this.processElement()}processElement(){this.processChildren()}}const mt=b.enum("ol","ul","none");class Un{constructor(e){this.type=e,this.items=[],this.depths=[],this.margin=0,this.types=[]}}class Wn extends Hn{constructor(){super(...arguments),this.inheritedFrame=null,this.currentFrame=null}_getChildren(){return"content"in this._value&&typeof this._value.content!="string"?this._value.content:null}applyChildren(e){this.replace(ut(this._value,{content:e}))}process(){this.currentFrame=this.inheritedFrame,super.process()}processElement(){if(this._value.kind=="segment"){if(mt.matches(this._value.type)){this.currentFrame==null&&(this.currentFrame=new Un("none"));const e=this._value.getMetadata(oe.META_MARGIN_LEFT);if(this.processChildren({inheritedFrame:ut(this.currentFrame,{type:this._value.type,margin:this.currentFrame.margin+(e??0)+1})}),!this.isDone()){const l=this.peek();if(l.kind=="segment"&&mt.matches(l.type)){this.drop();return}}if(this.inheritedFrame!=null){this.drop();return}const t=[],r=[],i=[],s=[];for(const[l,a,h]of mn("until-first",this.currentFrame.items,this.currentFrame.depths,this.currentFrame.types)){let c;h=="none"&&ne();const d=()=>{c=new M.Segment({type:h,content:[]}),t.length==0?s.push(c):t.at(-1).content.push(c),t.push(c),r.push(h),i.push(a)};if(t.length==0||a>i.at(-1))d();else if(a==i.at(-1))h!=r.at(-1)?(t.pop(),r.pop(),i.pop(),d()):c=t.at(-1);else{for(;t.length>0&&a<i.at(-1);)t.pop(),r.pop(),i.pop();t.length==0||a>i.at(-1)?d():h!=r.at(-1)?(t.pop(),r.pop(),i.pop(),d()):c=t.at(-1)}c.content.push(l)}s.length==1?this.replace(s[0]):s.length==0?this.drop():this.replace(new M.Segment({content:s})),this.currentFrame=null;return}if(this._value.type=="li"&&this.inheritedFrame!=null){const e=this.inheritedFrame.items.length;this.processChildren();const t=this._value.getMetadata(oe.META_MARGIN_LEFT);this.inheritedFrame.items.splice(e,0,this._value),this.inheritedFrame.depths.splice(e,0,(t??0)+this.inheritedFrame.margin),this.inheritedFrame.types.splice(e,0,this.inheritedFrame.type),this.drop();return}}super.processElement()}}class qn{constructor(){this.result=[],this.indent=0,this.skipNextIndent=!0,this.tableOptions=de.default()}emitIndent(){if(this.skipNextIndent){this.skipNextIndent=!1;return}this.result.push("    ".repeat(this.indent))}exportNodeContent(e){for(const t of e.content)this.exportNode(t)}emitBlockElement(e,t){this.emitIndent(),this.result.push("\\begin{"+t+`}
`),this.indent++,this.exportNodeContent(e),this.indent--,this.emitIndent(),this.result.push("\\end{"+t+`}
`)}exportNode(e){var t,r,i,s,l,a,h,c;if(e.kind=="segment"){if(e.type==1){this.emitIndent(),this.result.push("\\section{"),this.skipNextIndent=!0,this.exportNodeContent(e),this.result.push(`}

`);return}if(e.type==2){this.emitIndent(),this.result.push("\\subsection{"),this.skipNextIndent=!0,this.exportNodeContent(e),this.result.push(`}

`);return}if(e.type==3){this.emitIndent(),this.result.push("\\subsubsection{"),this.skipNextIndent=!0,this.exportNodeContent(e),this.result.push(`}

`);return}if(typeof e.type=="number"){this.emitIndent(),this.result.push("\\paragraph{"),this.skipNextIndent=!0,this.exportNodeContent(e),this.result.push(`}
`);return}if(e.type=="p"){this.emitIndent(),this.exportNodeContent(e),this.result.push(`

`);return}if(e.type=="ul"){this.emitBlockElement(e,"itemize");return}if(e.type=="quote"){this.emitBlockElement(e,"quote");return}if(e.type=="ol"){this.emitBlockElement(e,"enumerate");return}if(e.type=="li"){this.emitIndent(),this.result.push("\\item "),this.exportNodeContent(e),this.result.push(`
`);return}this.exportNodeContent(e);return}if(e.kind=="text"){this.result.push(e.value.replace(/\\/g,"\\textbackslash").replace(/_/g,"\\_").replace(/\^/g,"\\^{}"));return}if(e.kind=="raw"){this.result.push(e.value);return}if(e.kind=="span"){const d=((t=e.attributes)==null?void 0:t.get("pragma-spc"))!=null,w=((r=e.attributes)==null?void 0:r.get("pragma-spc0"))!=null,v=((i=e.attributes)==null?void 0:i.get("pragma-spc1"))!=null;(v||d)&&this.result.push(" ");try{if(e.modifier=="code"){this.result.push(" \\texttt{"),this.exportNodeContent(e),this.result.push("} ");return}if(e.modifier=="bold"){this.result.push(" \\textbf{"),this.exportNodeContent(e),this.result.push("} ");return}if(e.modifier=="italics"){this.result.push(" \\textit{"),this.exportNodeContent(e),this.result.push("} ");return}this.exportNodeContent(e);return}finally{(v||w)&&this.result.push(" ")}}if(e.kind=="object"&&e.type=="raw"){if(e.value&&e.value.startsWith("<>")){if(e.value==de.tagname){this.tableOptions=de.ref().deserialize(JSON.parse(e.attributes.get("value")));return}return}const d=((s=e.attributes)==null?void 0:s.get("pragma-block"))!=null,w=((l=e.attributes)==null?void 0:l.get("pragma-star"))!=null,v=((a=e.attributes)==null?void 0:a.get("pragma-spc"))!=null,g=((h=e.attributes)==null?void 0:h.get("pragma-spc0"))!=null,m=((c=e.attributes)==null?void 0:c.get("pragma-spc1"))!=null;(m||v)&&this.result.push(" ");let y=e.value;w&&(y=y+"*"),d?this.result.push(`\\begin{${y}}`):this.result.push("\\"+y);const k=e.attributes==null?null:[...e.attributes].filter(([S,C])=>!S.startsWith("pragma-"));k&&k.length>0&&this.result.push(`[${k.map(([S,C])=>C==""?S:`${S}=${C}`).join(", ")}]`),e.content.length>0&&(d||this.result.push("{"),this.exportNodeContent(e),d||this.result.push("}")),d&&this.result.push(`\\end{${y}}`),(m||g)&&this.result.push(" ");return}if(e.kind=="table"){if(e.content.length==0)return;const d=e.content[0];if(d.kind!="table-row")return;const w=d.content,{compact:v,widths:g,types:m,naked:y,long:k,before:S,after:C}=this.tableOptions;let A=1;if(!v)for(const D of g)A-=D;let T=g.map(D=>D==0?1:0).reduce(Ge.sum(),0);g.length<w.length&&(T+=w.length-g.length);const I=k?"longtable":"tabular",H=S||C?"\\tabularnewline":"\\\\";this.result.push(`\\begin{${I}}{ ${y?"":"|"}${[...an(w.length)].map((D,U)=>{let V=U<m.length?m[U]:"p";if(!v){const P=U<g.length?g[U]:A/T;V+=`{\\dimexpr ${P}\\textwidth -2\\tabcolsep}`}return S&&(V=`>{${S}}${V}`),C&&(V=`>{${C}}${V}`),V+(y?"":"|")}).join("")}}
`),y||this.result.push(`\\hline
`);for(let D=0;D<e.content.length;D++){const U=e.content[D];U.kind!="table-row"&&ne();for(let P=0;P<U.content.length;P++){const R=U.content[P];this.exportNode(R),P==U.content.length-1||this.result.push(" & ")}const V=D==e.content.length-1;(!y||!V)&&this.result.push(H+`
`),y||this.result.push(`\\hline
`)}this.result.push(`\\end{${I}}`);return}this.result.push(`!?!${e.kind}`)}exportDocument(e){return this.exportNode(e),this.result.join("")}}var fe;(n=>{n.DEFAULT_COLOR_MAP={string:{custom:!1,name:"green"},primitive:{custom:!1,name:"yellow"},function:{custom:!1,name:"cyan"},symbol:{custom:!1,name:"green"},circular:{custom:!1,name:"blue"},date:{custom:!1,name:"magenta"},regexp:{custom:!1,name:"red"},shallow:{custom:!1,name:"white"},type:{custom:!1,name:"bold"},other:{custom:!1,name:"gray"}},n.DEFAULT_COLOR_CODES={black:"#000000",blue:"#2472c8",brightBlack:"#666666",brightBlue:"#3b8eea",brightCyan:"#29b8db",brightGreen:"#23d18b",brightMagenta:"#d670d6",brightRed:"#f14c4c",brightWhite:"#ffffff",brightYellow:"#f5f543",cyan:"#11a8cd",green:"#0dbc79",magenta:"#bc3fbc",red:"#cd3131",white:"#e5e5e5",yellow:"#e5e510",grey:"#aaaaaa",gray:"#aaaaaa"},n.LIGHT_COLOR_CODES={black:"#000000",blue:"#1568c4",brightBlack:"#000000",brightBlue:"#1568c4",brightCyan:"#24b2d6",brightGreen:"#1f8236",brightMagenta:"#8f288f",brightRed:"#b30e0e",brightWhite:"#000000",brightYellow:"#cf4600",cyan:"#24b2d6",green:"#1f8236",magenta:"#8f288f",red:"#b30e0e",white:"#191919",yellow:"#cf4600",grey:"#555555",gray:"#555555"},n.ANSI_COLOR_CODES={black:"30",blue:"94",bold:"1",cyan:"96",gray:"90",green:"92",magenta:"95",red:"91",white:"0",yellow:"93"};function e(i,s){const l=h=>h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return`<span style="${s.custom==!1&&s.name=="bold"?"font-weight: bold":s.custom?`color: ${s.code}`:`color: ${n.LIGHT_COLOR_CODES[s.name]}`}">${l(i)}</span>`}n.htmlColor=e;function t(i,s){return s.custom?i:s.name=="bold"?`\x1B[1m${i}\x1B[0m`:`\x1B[${n.ANSI_COLOR_CODES[s.name]}m${i}\x1B[0m`}n.ansiColor=t;function r(i,{color:s,lineLimit:l=50,colorMap:a=n.DEFAULT_COLOR_MAP}){const h=(d,w)=>{if(d.type=="primitive"){const v=typeof d.value;if(v=="string")return{result:s(JSON.stringify(d.value),a.string),multiline:!1};if(v=="number"||v=="boolean")return{result:s(d.value.toString(),a.primitive),multiline:!1}}else{if(d.type=="bigint")return{result:s(d.value.toString()+"n",a.primitive),multiline:!1};if(d.type=="function")return{result:s(`[${d.subtype} ${d.name}]`,a.function),multiline:!1};if(d.type=="list"){const v=d.elements.map(y=>h(y,w+1));let g=0;for(const y of v){if(y.multiline){g=1/0;break}y.result.length>g&&(g=y.result.length)}const m=d.name!="Array"?`${s(d.name??"null",a.type)}(${v.length}) [`:"[";return g*v.length<l?{result:`${m}${v.length==0?"":" "+v.map(y=>y.result).join(", ")+" "}]`,multiline:!1}:{result:m+`
`+v.map(y=>"  ".repeat(w+1)+y.result).join(`
`)+`
`+"  ".repeat(w)+"]",multiline:!0}}else if(d.type=="record"){const v=d.items.map(y=>({key:c(y.key,w+1),value:h(y.value,w+1)}));let g=0;for(const y of v){if(y.key.multiline||y.value.multiline){g=1/0;break}const k=y.key.result.length+y.value.result.length;k>g&&(g=k)}const m=d.name?`${s(d.name,a.type)} {`:"{";return g*v.length<l?{result:`${m}${v.length==0?"":" "+v.map(y=>`${y.key.result}: ${y.value.result}`).join(", ")+" "}}`,multiline:!1}:{result:m+`
`+v.map(y=>"  ".repeat(w+1)+`${y.key.result}: ${y.value.result}`).join(`
`)+`
`+"  ".repeat(w)+"}",multiline:!0}}else{if(d.type=="symbol")return{result:s(d.name,a.symbol),multiline:!1};if(d.type=="circular")return{result:s("[circular]",a.circular),multiline:!1};if(d.type=="date")return{result:s(d.date,a.date),multiline:!1};if(d.type=="regexp")return{result:s(d.source,a.regexp),multiline:!1};if(d.type=="shallow")return{result:s(d.name,a.shallow),multiline:!1};if(d.type=="raw"){const v=d.segments.map(g=>g.indent?s(g.text,g.color).replace(/\n/g,`
`+"  ".repeat(w)):s(g.text,g.color)).join("");return{result:v,multiline:v.includes(`
`)}}}}return{result:s(d.type,a.other),multiline:!1}},c=(d,w)=>d.type=="primitive"&&typeof d.value=="string"&&!d.value.match(/[^\w$]/g)?{result:d.value,multiline:!1}:h(d,w);return h(i,0).result}n.formatDescription=r})(fe||(fe={}));const Kn=new Set(["string","number","boolean"]);class je{constructor(e){this.target=e,this.desc=je.inspectObject(this.target)}}(n=>{class e{constructor(i=null,s=(i==null?void 0:i.path)??[]){var l;this.parent=i,this.path=s,this.seen=((l=this.parent)==null?void 0:l.seen)??new Map}descent(i){return new e(this,[...this.path,...i])}}n.Context=e;function t(r,i=new e){var s;if(Kn.has(typeof r))return{type:"primitive",value:r};if(typeof r=="function"){const l=r.toString().startsWith("class");let a=r.name||"(anon)";return a=="(anon)"&&r.toString().length<50&&(a=r.toString().replace(/\n\s*/g,"↲")),{type:"function",subtype:l?"class":"function",name:a}}else{if(typeof r=="symbol")return{type:"symbol",name:r.toString()};if(typeof r=="bigint")return{type:"bigint",value:r.toString()};if(typeof r>"u")return{type:"undefined"};if(typeof r=="object"){if(r==null)return{type:"null"};if(i.seen.has(r))return{type:"circular",path:i.seen.get(r)};i.seen.set(r,i.path);const l=ArrayBuffer.isView(r)&&!(r instanceof DataView);if(r instanceof Array||l){let d=r;return d.length<=100?l&&(d=[...d]):d=[...d.slice(0,50),pe.rawText(`...${d.length-100} elements`),...d.slice(-50)],{type:"list",subtype:"array",name:r.constructor.name,elements:d.map((w,v)=>t(w,i.descent(["elements",v.toString()])))}}if(r instanceof Set)return{type:"list",subtype:"set",name:r.constructor.name,elements:[...r.entries()].map(([d,w],v)=>t(w,i.descent(["elements",v.toString()])))};const a=([d,w],v)=>({key:t(d,i.descent(["items",v.toString(),"key"])),value:t(w,i.descent(["items",v.toString(),"value"]))});if(r instanceof Map)return{type:"record",subtype:"map",name:r.constructor.name,items:[...r].map(a)};if(r instanceof RegExp)return{type:"regexp",source:r.toString()};if(r instanceof Date)return{type:"date",date:r.toISOString()};if(r instanceof WeakMap||r instanceof WeakSet||r instanceof Promise)return{type:"shallow",name:r.constructor.name};if(pe.CUSTOM in r){const d=r[pe.CUSTOM](i);if(d!=r)return n.inspectObject(d,i)}if(r instanceof Error)return{type:"raw",segments:[{color:{custom:!1,name:"white"},text:r.stack??r.message}]};if(r[zt])return{type:"raw",segments:r.segments};let h=(s=r.constructor)==null?void 0:s.name;h=="Object"&&(h=null);const c=[];for(const[d,w]of Object.entries(r))c.push(a([d,w],c.length));for(const d of Object.getOwnPropertySymbols(r))Object.getOwnPropertyDescriptor(r,d).enumerable&&c.push(a([d,r[d]],c.length));return{type:"record",subtype:"object",name:h,items:c}}}return{type:"unknown"}}n.inspectObject=t})(je||(je={}));const zt=Symbol.for("Logger.ObjectDescription.RawObject"),Gn={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white",90:"gray",91:"redBright",92:"greenBright",93:"yellowBright",94:"blueBright",95:"magentaBright",96:"cyanBright",97:"whiteBright"};var pe;(n=>{n.CUSTOM=Symbol.for("Logger.ObjectDescription.Custom");function e(i){return{[zt]:!0,segments:i}}n.raw=e;function t(i,s={custom:!1,name:"white"},{indent:l=!1}={}){return typeof s=="string"&&(s={custom:!1,name:s}),e([{text:i,color:s,...l?{indent:!0}:void 0}])}n.rawText=t;function r(i){i+="\x1B[0m";const s=[];let l={custom:!0,code:fe.DEFAULT_COLOR_CODES.white,ansiCode:37},a=0,h=0,c=0;for(;(h=i.indexOf("\x1B[",h))!=-1;){const d=i.slice(a,h);s.push({color:l,text:d});const w=h+2;h=i.indexOf("m",h)+1;const v=i.slice(w,h-1),g=Gn[v]??"white";if(l={custom:!0,code:fe.DEFAULT_COLOR_CODES[g]??fe.DEFAULT_COLOR_CODES.grey,ansiCode:+v},a=h,c++,c>1e3)throw new Error("Infinite loop reached")}return e(s)}n.ansiText=r})(pe||(pe={}));function Re(n,e){const t=je.inspectObject(n);return fe.formatDescription(t,{...e,color:(e==null?void 0:e.color)??(e!=null&&e.colors?Re.defaultColor:r=>r)})}(n=>{n.defaultColor=e=>e})(Re||(Re={}));const gt=Qe(me({name:"ToggleButton",props:{modelValue:{type:Boolean,default:!1},focus:{type:Boolean},fieldProps:{type:Object},required:{type:Boolean},enabledStyle:{type:Object},...Fe.FUNCTION,...Fe.STYLE},emits:{"update:modelValue":n=>!0,change:n=>!0},setup(n,e){var l;const t=Se(n.modelValue),r=Se();e.expose({input:r}),et(()=>{n.focus&&r.value.focus()}),Z(()=>n.modelValue,a=>{t.value=a}),Z(t,(a,h)=>{a!=h&&(e.emit("update:modelValue",a),e.emit("change",a))});function i(a){const h=a.target.checked;h!=t.value&&(t.value=h)}const s=(l=Yt(Fe.GROUP_SYMBOL,void 0))==null?void 0:l.props;return()=>{const a=n.disabled||(s==null?void 0:s.disabled),{modelValue:h,focus:c,fieldProps:d,required:w,enabledStyle:v,...g}=n,m=v==null;return $(ge,Ue(g,{nativeElement:"label",class:"px-1 gap-1 flex row center-cross"},v!=null&&t.value?v:void 0),{default:()=>[$("input",Ue({class:m?"m-0":"hidden",type:"checkbox",required:w,disabled:a,onChange:i,checked:t.value,ref:r},d),null),vt(e.slots,"default")]})}}}));se.prototype[pe.CUSTOM]=function(){const n=gn(this,"kind");Object.defineProperty(n,pe.CUSTOM,{value:function(){return this},enumerable:!1});for(const[e,t]of Object.entries(n))t==null&&delete n[e];return n};class bt extends J.define("EditorConfig",{importType:b.enum("md","html"),exportType:b.enum("html","latex","vue"),htmlCitations:b.boolean.as(b.withDefault,()=>!0),htmlMath:b.boolean.as(b.withDefault,()=>!0)},class{constructor(){return nt(this)}}){}class Jn extends Et{constructor(t){super();Ae(this,"preview",null);Ae(this,"output",null);Ae(this,"ast",null);this.config=t}getOutput(){return[{label:"Preview",name:"output",content:()=>this.preview!=null?typeof this.preview=="string"?$("div",{class:"mml-document",innerHTML:this.preview},null):typeof this.preview=="function"?$("div",{class:"mml-document"},[ie.pcall(()=>He(this.preview)).else(t=>(console.error(t),null)).unwrap()]):$(wt,{node:this.preview},null):$("div",null,null)},{label:"Output",name:"raw",content:()=>$(Ct,{content:this.output??"",config:{readOnly:!0},mode:this.config.exportType=="html"?"htmlmixed":this.config.exportType=="vue"?"javascript":void 0,class:"absolute-fill"},null)},{label:"AST",name:"ast",content:()=>this.ast&&$("pre",{class:"monospace pre-wrap m-0",innerHTML:this.ast},null)}]}_compile(t){this.output=null,this.preview=null,this.ast=null;let r;const i=Ie(ft);if(i.shortcuts=fn(ft.shortcuts),this.config.htmlCitations&&i.shortcuts.push(...Vn),this.config.htmlMath&&i.shortcuts.push(...Fn),this.config.importType=="md")r=new Lt(t,i).parseDocument();else if(this.config.importType=="html"){r=new oe(i).importHtml(t);const s=new Wn;r=s.transform(r),s.wasDropped&&ne()}else ne();if(this.ast=Re(r,{color:fe.htmlColor}),this.config.exportType=="html"){const s=new jn;this.preview=this.output=s.render(r)}else if(this.config.exportType=="vue"){const s=new Te;s.addAllowedComponent("RouterLink","Button");const l=s.render(r);this.output=l;try{this.preview=new Function("return "+l)()({RouterLink:Qt,Button:ge,h:He})}catch(a){console.error(a),this.preview=`<div class="text-danger monospace">${ke(a.message)}</div>`}}else if(this.config.exportType=="latex"){const s=new qn;this.output=s.exportDocument(r);try{const l=(async()=>{const{HtmlGenerator:h,parse:c}=await en(()=>import("./latex-9318fb3c.js"),["assets/latex-9318fb3c.js","assets/index-c7713129.js","assets/index-f271be77.css"]),d=c(this.output,{generator:new h({hyphenate:!1})}),w=document.createElement("div");return w.appendChild(d.domFragment()),w})();l.catch(h=>{this.preview=`<div class="text-danger monospace">${ke(h.message)}</div>`});const a=document.createElement("iframe");a.addEventListener("load",()=>{a.contentDocument.head.innerHTML=Xn,l.then(h=>{a.contentDocument.body.innerHTML=h.innerHTML})}),a.contentDocument,a.setAttribute("class","border-none absolute-fill"),this.preview=a}catch(l){console.error(l),this.preview=`<div class="text-danger monospace">${ke(l.message)}</div>`}}this.ready=!0}}const Xn=`
    <link rel="stylesheet" type="text/css" href="/MiniML/latex/css/katex.css">
    <link rel="stylesheet" type="text/css" href="/MiniML/latex/css/article.css">
    <script src="/MiniML/latex/js/base.js"><\/script>
    <style>
        body { display: initial; }
        .body { padding: 2rem; }
    </style>
`,nr=me({name:"MiniMLEditor",setup(n,e){const t=Zt(),r=ie.value(localStorage.getItem("mini-ml-editor:editor-config")).filterType("string").do(c=>bt.deserialize(JSON.parse(c))).else(c=>(console.error(c),bt.default())).unwrap(),i=new Jn(r),s=Pe({md:"Markdown",html:"HTML"});function l(){localStorage.setItem("mini-ml-editor:editor-config",JSON.stringify(r.serialize())),i.compile(i.code.value)}s.selected=r.importType,Z(()=>s.selected,c=>{r.importType=c,l()});const a=Pe({html:"HTML",latex:"LaTeX",vue:"Vue"});a.selected=r.exportType,Z(()=>a.selected,c=>{r.exportType=c,l()});function h(){t.modal(()=>$("div",{class:"flex column gap-1"},[$("h3",{class:"m-0"},[X("Config")]),$(gt,{clear:!0,class:"mt-2",label:"HTML Citations",modelValue:r.htmlCitations,"onUpdate:modelValue":c=>r.htmlCitations=c,onChange:l},null),$("small",null,[X("Enables creating a cite element by surrounding text with "),$("code",null,[X("[[")]),X(" and "),$("code",null,[X("]]")])]),$(gt,{clear:!0,class:"mt-2",label:"HTML Math",modelValue:r.htmlMath,"onUpdate:modelValue":c=>r.htmlMath=c,onChange:l},null),$("small",null,[X("Enables creating a Math element by surrounding text with "),$("code",null,["<<"]),X(" and "),$("code",null,[">>"])])]),{props:{cancelButton:"Close"}})}return()=>$(Sn,{state:i,class:"flex-fill",toolbarClass:"center-cross",mode:s.selected=="md"?"markdown":"htmlmixed",localStorageId:"mini-ml-editor",root:!0},{default:()=>[$(Le,{tabs:s},null),$(xt,{icon:tn,class:"mx-2"},null),$(Le,{tabs:a},null),We($(ge,{clear:!0,icon:rn,onClick:h},null),[[$e("label"),"Config"]])]})}});export{nr as MiniMLEditor,bt as _EditorConfig};
