var Rt=Object.defineProperty;var It=(n,e,t)=>e in n?Rt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ne=(n,e,t)=>(It(n,typeof e!="symbol"?e+"":e,t),t);import{r as Ze,a as Dt,b as Bt,C as Qe,e as et,d as me,c as Se,w as Z,o as tt,n as nt,f as Vt,g as L,M as wt,h as rt,B as ge,i as He,N as Ft,m as Ue,j as Ht,s as xt,k as Ut,l as Wt,u as qt,p as Kt,q as Gt,t as Jt,v as vt,x as X,I as _t,y as We,z as $e,A as Xt,D as Fe,E as Yt,F as Zt,R as Qt,_ as en}from"./index-822b444c.js";var tn="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",nn="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",rn="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",ot={exports:{}},lt;function sn(){return lt||(lt=1,function(n,e){(function(t){t(Ze())})(function(t){t.defineMode("css",function(N,B){var Y=B.inline;B.propertyKeywords||(B=t.resolveMode("text/css"));var Q=N.indentUnit,ee=B.tokenHooks,je=B.documentTypes||{},De=B.mediaTypes||{},Ce=B.mediaFeatures||{},Ee=B.mediaValueKeywords||{},be=B.propertyKeywords||{},ye=B.nonStandardPropertyKeywords||{},Be=B.fontProperties||{},Ve=B.counterDescriptors||{},Me=B.colorKeywords||{},O=B.valueKeywords||{},l=B.allowNested,y=B.lineComment,M=B.supportsAtComponent===!0,A=N.highlightNonStandardPropertyKeywords!==!1,P,C;function I(c,v){return P=v,c}function U(c,v){var b=c.next();if(ee[b]){var H=ee[b](c,v);if(H!==!1)return H}if(b=="@")return c.eatWhile(/[\w\\\-]/),I("def",c.current());if(b=="="||(b=="~"||b=="|")&&c.eat("="))return I(null,"compare");if(b=='"'||b=="'")return v.tokenize=W(b),v.tokenize(c,v);if(b=="#")return c.eatWhile(/[\w\\\-]/),I("atom","hash");if(b=="!")return c.match(/^\s*\w*/),I("keyword","important");if(/\d/.test(b)||b=="."&&c.eat(/\d/))return c.eatWhile(/[\w.%]/),I("number","unit");if(b==="-"){if(/[\d.]/.test(c.peek()))return c.eatWhile(/[\w.%]/),I("number","unit");if(c.match(/^-[\w\\\-]*/))return c.eatWhile(/[\w\\\-]/),c.match(/^\s*:/,!1)?I("variable-2","variable-definition"):I("variable-2","variable");if(c.match(/^\w+-/))return I("meta","meta")}else return/[,+>*\/]/.test(b)?I(null,"select-op"):b=="."&&c.match(/^-?[_a-z][_a-z0-9-]*/i)?I("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(b)?I(null,b):c.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(c.current())&&(v.tokenize=G),I("variable callee","variable")):/[\w\\\-]/.test(b)?(c.eatWhile(/[\w\\\-]/),I("property","word")):I(null,null)}function W(c){return function(v,b){for(var H=!1,te;(te=v.next())!=null;){if(te==c&&!H){c==")"&&v.backUp(1);break}H=!H&&te=="\\"}return(te==c||!H&&c!=")")&&(b.tokenize=null),I("string","string")}}function G(c,v){return c.next(),c.match(/^\s*[\"\')]/,!1)?v.tokenize=null:v.tokenize=W(")"),I(null,"(")}function le(c,v,b){this.type=c,this.indent=v,this.prev=b}function K(c,v,b,H){return c.context=new le(b,v.indentation()+(H===!1?0:Q),c.context),b}function re(c){return c.context.prev&&(c.context=c.context.prev),c.context.type}function we(c,v,b){return q[b.context.type](c,v,b)}function ae(c,v,b,H){for(var te=H||1;te>0;te--)b.context=b.context.prev;return we(c,v,b)}function st(c){var v=c.current().toLowerCase();O.hasOwnProperty(v)?C="atom":Me.hasOwnProperty(v)?C="keyword":C="variable"}var q={};return q.top=function(c,v,b){if(c=="{")return K(b,v,"block");if(c=="}"&&b.context.prev)return re(b);if(M&&/@component/i.test(c))return K(b,v,"atComponentBlock");if(/^@(-moz-)?document$/i.test(c))return K(b,v,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(c))return K(b,v,"atBlock");if(/^@(font-face|counter-style)/i.test(c))return b.stateArg=c,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(c))return"keyframes";if(c&&c.charAt(0)=="@")return K(b,v,"at");if(c=="hash")C="builtin";else if(c=="word")C="tag";else{if(c=="variable-definition")return"maybeprop";if(c=="interpolation")return K(b,v,"interpolation");if(c==":")return"pseudo";if(l&&c=="(")return K(b,v,"parens")}return b.context.type},q.block=function(c,v,b){if(c=="word"){var H=v.current().toLowerCase();return be.hasOwnProperty(H)?(C="property","maybeprop"):ye.hasOwnProperty(H)?(C=A?"string-2":"property","maybeprop"):l?(C=v.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(C+=" error","maybeprop")}else return c=="meta"?"block":!l&&(c=="hash"||c=="qualifier")?(C="error","block"):q.top(c,v,b)},q.maybeprop=function(c,v,b){return c==":"?K(b,v,"prop"):we(c,v,b)},q.prop=function(c,v,b){if(c==";")return re(b);if(c=="{"&&l)return K(b,v,"propBlock");if(c=="}"||c=="{")return ae(c,v,b);if(c=="(")return K(b,v,"parens");if(c=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(v.current()))C+=" error";else if(c=="word")st(v);else if(c=="interpolation")return K(b,v,"interpolation");return"prop"},q.propBlock=function(c,v,b){return c=="}"?re(b):c=="word"?(C="property","maybeprop"):b.context.type},q.parens=function(c,v,b){return c=="{"||c=="}"?ae(c,v,b):c==")"?re(b):c=="("?K(b,v,"parens"):c=="interpolation"?K(b,v,"interpolation"):(c=="word"&&st(v),"parens")},q.pseudo=function(c,v,b){return c=="meta"?"pseudo":c=="word"?(C="variable-3",b.context.type):we(c,v,b)},q.documentTypes=function(c,v,b){return c=="word"&&je.hasOwnProperty(v.current())?(C="tag",b.context.type):q.atBlock(c,v,b)},q.atBlock=function(c,v,b){if(c=="(")return K(b,v,"atBlock_parens");if(c=="}"||c==";")return ae(c,v,b);if(c=="{")return re(b)&&K(b,v,l?"block":"top");if(c=="interpolation")return K(b,v,"interpolation");if(c=="word"){var H=v.current().toLowerCase();H=="only"||H=="not"||H=="and"||H=="or"?C="keyword":De.hasOwnProperty(H)?C="attribute":Ce.hasOwnProperty(H)?C="property":Ee.hasOwnProperty(H)?C="keyword":be.hasOwnProperty(H)?C="property":ye.hasOwnProperty(H)?C=A?"string-2":"property":O.hasOwnProperty(H)?C="atom":Me.hasOwnProperty(H)?C="keyword":C="error"}return b.context.type},q.atComponentBlock=function(c,v,b){return c=="}"?ae(c,v,b):c=="{"?re(b)&&K(b,v,l?"block":"top",!1):(c=="word"&&(C="error"),b.context.type)},q.atBlock_parens=function(c,v,b){return c==")"?re(b):c=="{"||c=="}"?ae(c,v,b,2):q.atBlock(c,v,b)},q.restricted_atBlock_before=function(c,v,b){return c=="{"?K(b,v,"restricted_atBlock"):c=="word"&&b.stateArg=="@counter-style"?(C="variable","restricted_atBlock_before"):we(c,v,b)},q.restricted_atBlock=function(c,v,b){return c=="}"?(b.stateArg=null,re(b)):c=="word"?(b.stateArg=="@font-face"&&!Be.hasOwnProperty(v.current().toLowerCase())||b.stateArg=="@counter-style"&&!Ve.hasOwnProperty(v.current().toLowerCase())?C="error":C="property","maybeprop"):"restricted_atBlock"},q.keyframes=function(c,v,b){return c=="word"?(C="variable","keyframes"):c=="{"?K(b,v,"top"):we(c,v,b)},q.at=function(c,v,b){return c==";"?re(b):c=="{"||c=="}"?ae(c,v,b):(c=="word"?C="tag":c=="hash"&&(C="builtin"),"at")},q.interpolation=function(c,v,b){return c=="}"?re(b):c=="{"||c==";"?ae(c,v,b):(c=="word"?C="variable":c!="variable"&&c!="("&&c!=")"&&(C="error"),"interpolation")},{startState:function(c){return{tokenize:null,state:Y?"block":"top",stateArg:null,context:new le(Y?"block":"top",c||0,null)}},token:function(c,v){if(!v.tokenize&&c.eatSpace())return null;var b=(v.tokenize||U)(c,v);return b&&typeof b=="object"&&(P=b[1],b=b[0]),C=b,P!="comment"&&(v.state=q[v.state](P,c,v)),C},indent:function(c,v){var b=c.context,H=v&&v.charAt(0),te=b.indent;return b.type=="prop"&&(H=="}"||H==")")&&(b=b.prev),b.prev&&(H=="}"&&(b.type=="block"||b.type=="top"||b.type=="interpolation"||b.type=="restricted_atBlock")?(b=b.prev,te=b.indent):(H==")"&&(b.type=="parens"||b.type=="atBlock_parens")||H=="{"&&(b.type=="at"||b.type=="atBlock"))&&(te=Math.max(0,b.indent-Q))),te},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:y,fold:"brace"}});function r(N){for(var B={},Y=0;Y<N.length;++Y)B[N[Y].toLowerCase()]=!0;return B}var i=["domain","regexp","url","url-prefix"],s=r(i),u=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=r(u),p=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],d=r(p),m=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],x=r(m),g=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=r(g),o=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],f=r(o),k=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],_=r(k),T=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],j=r(T),S=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],E=r(S),V=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],z=r(V),R=i.concat(u).concat(p).concat(m).concat(g).concat(o).concat(S).concat(V);t.registerHelper("hintWords","css",R);function F(N,B){for(var Y=!1,Q;(Q=N.next())!=null;){if(Y&&Q=="/"){B.tokenize=null;break}Y=Q=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:s,mediaTypes:a,mediaFeatures:d,mediaValueKeywords:x,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:_,counterDescriptors:j,colorKeywords:E,valueKeywords:z,tokenHooks:{"/":function(N,B){return N.eat("*")?(B.tokenize=F,F(N,B)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:d,mediaValueKeywords:x,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:E,valueKeywords:z,fontProperties:_,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(N,B){return N.eat("/")?(N.skipToEnd(),["comment","comment"]):N.eat("*")?(B.tokenize=F,F(N,B)):["operator","operator"]},":":function(N){return N.match(/^\s*\{/,!1)?[null,null]:!1},$:function(N){return N.match(/^[\w-]+/),N.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(N){return N.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:d,mediaValueKeywords:x,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:E,valueKeywords:z,fontProperties:_,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(N,B){return N.eat("/")?(N.skipToEnd(),["comment","comment"]):N.eat("*")?(B.tokenize=F,F(N,B)):["operator","operator"]},"@":function(N){return N.eat("{")?[null,"interpolation"]:N.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(N.eatWhile(/[\w\\\-]/),N.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:s,mediaTypes:a,mediaFeatures:d,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:_,counterDescriptors:j,colorKeywords:E,valueKeywords:z,supportsAtComponent:!0,tokenHooks:{"/":function(N,B){return N.eat("*")?(B.tokenize=F,F(N,B)):!1}},name:"css",helperType:"gss"})})}()),ot.exports}(function(n,e){(function(t){t(Ze(),Dt(),Bt(),sn())})(function(t){var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(x,g,h){var o=x.current(),f=o.search(g);return f>-1?x.backUp(o.length-f):o.match(/<\/?$/)&&(x.backUp(o.length),x.match(g,!1)||x.match(o)),h}var s={};function u(x){var g=s[x];return g||(s[x]=new RegExp("\\s+"+x+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function a(x,g){var h=x.match(u(g));return h?/^\s*(.*?)\s*$/.exec(h[2])[1]:""}function p(x,g){return new RegExp((g?"^":"")+"</\\s*"+x+"\\s*>","i")}function d(x,g){for(var h in x)for(var o=g[h]||(g[h]=[]),f=x[h],k=f.length-1;k>=0;k--)o.unshift(f[k])}function m(x,g){for(var h=0;h<x.length;h++){var o=x[h];if(!o[0]||o[1].test(a(g,o[0])))return o[2]}}t.defineMode("htmlmixed",function(x,g){var h=t.getMode(x,{name:"xml",htmlMode:!0,multilineTagIndentFactor:g.multilineTagIndentFactor,multilineTagIndentPastTag:g.multilineTagIndentPastTag,allowMissingTagName:g.allowMissingTagName}),o={},f=g&&g.tags,k=g&&g.scriptTypes;if(d(r,o),f&&d(f,o),k)for(var _=k.length-1;_>=0;_--)o.script.unshift(["type",k[_].matches,k[_].mode]);function T(j,S){var E=h.token(j,S.htmlState),V=/\btag\b/.test(E),z;if(V&&!/[<>\s\/]/.test(j.current())&&(z=S.htmlState.tagName&&S.htmlState.tagName.toLowerCase())&&o.hasOwnProperty(z))S.inTag=z+" ";else if(S.inTag&&V&&/>$/.test(j.current())){var R=/^([\S]+) (.*)/.exec(S.inTag);S.inTag=null;var F=j.current()==">"&&m(o[R[1]],R[2]),N=t.getMode(x,F),B=p(R[1],!0),Y=p(R[1],!1);S.token=function(Q,ee){return Q.match(B,!1)?(ee.token=T,ee.localState=ee.localMode=null,null):i(Q,Y,ee.localMode.token(Q,ee.localState))},S.localMode=N,S.localState=t.startState(N,h.indent(S.htmlState,"",""))}else S.inTag&&(S.inTag+=j.current(),j.eol()&&(S.inTag+=" "));return E}return{startState:function(){var j=t.startState(h);return{token:T,inTag:null,localMode:null,localState:null,htmlState:j}},copyState:function(j){var S;return j.localState&&(S=t.copyState(j.localMode,j.localState)),{token:j.token,inTag:j.inTag,localMode:j.localMode,localState:S,htmlState:t.copyState(h,j.htmlState)}},token:function(j,S){return S.token(j,S)},indent:function(j,S,E){return!j.localMode||/^\s*<\//.test(S)?h.indent(j.htmlState,S,E):j.localMode.indent?j.localMode.indent(j.localState,S,E):t.Pass},innerMode:function(j){return{state:j.localState||j.htmlState,mode:j.localMode||h}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")})})();class kt{constructor(e){this.input=e,this.index=0}getCurrent(){return this.input[this.index]}at(e){return this.index+e<this.input.length&&this.index+e>=0?this.input[this.index+e]:""}read(e){const t=this.input.slice(this.index,this.index+e);return this.index+=e,t}skipUntil(e){if(typeof e=="string"){const t=e;e=(r,i)=>r.startsWith(t,i)}for(;this.index<this.input.length;){if(e(this.input,this.index))return!0;this.index++}return!1}readUntil(e){if(typeof e=="string"){const i=e;e=(s,u)=>s.startsWith(i,u)}let t=this.index;this.skipUntil(e);let r=this.index;return this.input.slice(t,r)}skipWhile(e){return this.skipUntil((t,r)=>!e(t,r))}readWhile(e){return this.readUntil((t,r)=>!e(t,r))}readAll(e){const t=[];for(;!this.isDone();)t.push(this.readUntil(e)),this.isDone()||(t.push(this.input[this.index]),this.index++);return t}isDone(){return this.index>=this.input.length}clone(e){const t=Object.assign(Object.create(this.constructor.prototype),this);return e!=null&&(t.input=e,t.index=0),t}restart(e){return this.input=e,this.index=0,this}consume(e){if(e instanceof Array){for(const t of e)if(this.consume(t))return t;return null}return this.input.startsWith(e,this.index)?(this.index+=e.length,!0):!1}matches(e){if(typeof e=="function")return e(this.input,this.index);if(e instanceof Array){for(const t of e)if(this.matches(t))return t;return null}return!!this.input.startsWith(e,this.index)}}function on(n,e,t){const r=n.get(e);if(r)return r;const i=t();return n.set(e,i),i}function at(n){return n instanceof Error||(n=new Error(St(n))),n}function St(n){return typeof n=="object"&&n==null?"null":typeof n>"u"?"undefined":n.toString()}function qe(n){return n.filter(e=>e).flatMap(e=>e instanceof Array?e:[e])}function*ln(n,e){for(let t=0;t<n;t++)e?yield e(t):yield t}function ne(n="Reached unreachable code"){throw new Error("Assertion failed: "+n)}const an="0".charCodeAt(0),un="9".charCodeAt(0),cn="a".charCodeAt(0),dn="z".charCodeAt(0),Tt="A".charCodeAt(0),Ot="Z".charCodeAt(0);function Ke(n,e=0){if(!n)return!1;const t=n.charCodeAt(e);return t>=an&&t<=un}function hn(n,e=0){if(!n)return!1;const t=n.charCodeAt(e);return t>=cn&&t<=dn||t>=Tt&&t<=Ot}function ut(n,e=0){if(!n)return!1;const t=n.charCodeAt(e);return t>=Tt&&t<=Ot}function jt(n,e=0){return!n||!n[e]?!1:hn(n,e)||Ke(n,e)||n[e]=="_"}function _e(n,e=0){return n[e]==" "||n[e]=="\r"||n[e]=="	"||n[e]==`
`}function fn(n){return[].concat(n)}function*pn(...n){for(const e of n)yield*e}function*mn(n,...e){const t=e.map(r=>r[Symbol.iterator]());for(;;){let r=!1,i=!0;const s=[];for(const u of t){const a=u.next();a.done?(r=!0,s.push(null)):(i=!1,s.push(a.value))}if(n=="until-first"&&r)return;if(i)return;yield s}}function ke(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function ve(n){return n.replace(/[^\w ]/g,e=>e=="\\"?"\\\\":`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`)}function Ie(n){return Object.assign(Object.create(Object.getPrototypeOf(n)),n)}function gn(n,...e){const t=Ie(n);for(const r of e)delete t[r];return t}function ct(n,e){return Object.assign(Ie(n),e)}var Ge;(n=>{function e(i){return i==null?(s,u)=>s+u:(s,u)=>s+i(u)}n.sum=e;function t(i){return(s,u,a)=>{const p=i==null?u:i(u);if(s==null)return{value:p,element:u,index:a};const d=s.value;return p<d?{value:p,element:u,index:a}:s??ne()}}n.smallest=t;function r(i){return(s,u,a)=>{const p=i==null?u:i(u);if(s==null)return{value:p,element:u,index:a};const d=s.value;return p>d?{value:p,element:u,index:a}:s??ne()}}n.largest=r})(Ge||(Ge={}));function*bn(n){for(let e=n.length-1;e>=0;e--)yield n[e]}var dt;(n=>{function e(a){return p=>p instanceof a}n.instanceOf=e;function t(a){return p=>typeof p==a}n.typeOf=t;function r(a){return a==null?p=>!1:"has"in a?p=>a.has(p):p=>a.includes(p)}n.containedIn=r;function i(a){return(...p)=>!a(...p)}n.invert=i;function s(){return a=>a!=null}n.notNull=s;function u(...a){return p=>{for(const d of a)if(!d(p))return!1;return!0}}n.and=u,n.not=new Proxy({},{get(a,p,d){const m=n[p];return(...x)=>{const g=m(...x);return(...h)=>!g(...h)}}})})(dt||(dt={}));function yn(n,e){const t=new Map(n);for(const[r,i]of e)t.set(r,i);return t}function Je(n,e){if(e==null)return n;if(typeof n=="object"&&n!=null){if(n instanceof Array)return n.push(...e),n;for(const[t,r]of Object.entries(e)){const i=t in n?n[t]:void 0;if(typeof i=="object"&&i!=null){n[t]=Je(i,r);continue}n[t]=r}return n}return e}class ue extends Error{constructor(){super(...arguments),this.name="PredicateFailedError"}}class ie{constructor(e){this._rejected=null,this._value=e}get rejected(){return this._rejected}else(e){if(this._rejected){const t=e(this._rejected);t instanceof ie?t._rejected?(this._value=null,this._rejected=t._rejected):(this._value=t._value,this._rejected=null):(this._value=t,this._rejected=null)}return this}effect(e,...t){return this._rejected?this:(e(this._value,...t),this)}unwrap(){if(this._rejected)throw this._rejected;return this._value}tryUnwrap(){if(!this._rejected)return this._value}unwrapOrError(){return this._rejected?this._rejected:this._value}do(e,...t){if(!this._rejected){const r=e(this._value,...t);r instanceof ie?r._rejected?this._rejected=r._rejected:this._value=r._value:this._value=r}return this}try(e,...t){if(!this._rejected)try{const r=e(this._value,...t);r instanceof ie?r._rejected?this._rejected=r._rejected:this._value=r._value:this._value=r}catch(r){this._rejected=at(r),this._value=null}return this}filter(e,t="Value did not match predicate"){return this._rejected?this:(e(this._value)||(this._rejected=new ue(t),this._value=null),this)}assertType(){return this}rejectType(e,t=`Value was of type "${e.name}"`){return this._rejected?this:(this._value instanceof e&&(this._rejected=new ue(t),this._value=null),this)}notNull(){return this._rejected?this:(this._value==null&&(this._rejected=new ue("Value is null"),this._value=null),this)}notNaN(){return this._rejected?this:((typeof this._value!="number"||isNaN(this._value))&&(this._rejected=new ue("Value is NaN"),this._value=null),this)}filterType(e,t=`Value was not of type "${typeof e=="string"?e:e.name}"`){return this._rejected?this:(typeof e=="string"?typeof this._value!=e&&(this._rejected=new ue(t),this._value=null):this._value instanceof e||(this._rejected=new ue(t),this._value=null),this)}rejectValue(e,t=`Value was "${St(e)}"`){return this._rejected||this._value==e&&this._value==e&&(this._rejected=new ue(t),this._value=null),this}static value(e){return new ie(e)}static rejected(e){const t=new ie(null);return t._rejected=e,t}static pcall(e,...t){try{return ie.value(e(...t))}catch(r){return ie.rejected(at(r))}}}(function(n,e){(function(t){t(Ze())})(function(t){t.defineSimpleMode=function(g,h){t.defineMode(g,function(o){return t.simpleMode(o,h)})},t.simpleMode=function(g,h){r(h,"start");var o={},f=h.meta||{},k=!1;for(var _ in h)if(_!=f&&h.hasOwnProperty(_))for(var T=o[_]=[],j=h[_],S=0;S<j.length;S++){var E=j[S];T.push(new u(E,h)),(E.indent||E.dedent)&&(k=!0)}var V={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:k?[]:null}},copyState:function(R){var F={state:R.state,pending:R.pending,local:R.local,localState:null,indent:R.indent&&R.indent.slice(0)};R.localState&&(F.localState=t.copyState(R.local.mode,R.localState)),R.stack&&(F.stack=R.stack.slice(0));for(var N=R.persistentStates;N;N=N.next)F.persistentStates={mode:N.mode,spec:N.spec,state:N.state==R.localState?F.localState:t.copyState(N.mode,N.state),next:F.persistentStates};return F},token:a(o,g),innerMode:function(R){return R.local&&{mode:R.local.mode,state:R.localState}},indent:x(o,f)};if(f)for(var z in f)f.hasOwnProperty(z)&&(V[z]=f[z]);return V};function r(g,h){if(!g.hasOwnProperty(h))throw new Error("Undefined state "+h+" in simple mode")}function i(g,h){if(!g)return/(?:)/;var o="";return g instanceof RegExp?(g.ignoreCase&&(o="i"),g.unicode&&(o+="u"),g=g.source):g=String(g),new RegExp((h===!1?"":"^")+"(?:"+g+")",o)}function s(g){if(!g)return null;if(g.apply)return g;if(typeof g=="string")return g.replace(/\./g," ");for(var h=[],o=0;o<g.length;o++)h.push(g[o]&&g[o].replace(/\./g," "));return h}function u(g,h){(g.next||g.push)&&r(h,g.next||g.push),this.regex=i(g.regex),this.token=s(g.token),this.data=g}function a(g,h){return function(o,f){if(f.pending){var k=f.pending.shift();return f.pending.length==0&&(f.pending=null),o.pos+=k.text.length,k.token}if(f.local)if(f.local.end&&o.match(f.local.end)){var _=f.local.endToken||null;return f.local=f.localState=null,_}else{var _=f.local.mode.token(o,f.localState),T;return f.local.endScan&&(T=f.local.endScan.exec(o.current()))&&(o.pos=o.start+T.index),_}for(var j=g[f.state],S=0;S<j.length;S++){var E=j[S],V=(!E.data.sol||o.sol())&&o.match(E.regex);if(V){E.data.next?f.state=E.data.next:E.data.push?((f.stack||(f.stack=[])).push(f.state),f.state=E.data.push):E.data.pop&&f.stack&&f.stack.length&&(f.state=f.stack.pop()),E.data.mode&&d(h,f,E.data.mode,E.token),E.data.indent&&f.indent.push(o.indentation()+h.indentUnit),E.data.dedent&&f.indent.pop();var z=E.token;if(z&&z.apply&&(z=z(V)),V.length>2&&E.token&&typeof E.token!="string"){for(var R=2;R<V.length;R++)V[R]&&(f.pending||(f.pending=[])).push({text:V[R],token:E.token[R-1]});return o.backUp(V[0].length-(V[1]?V[1].length:0)),z[0]}else return z&&z.join?z[0]:z}}return o.next(),null}}function p(g,h){if(g===h)return!0;if(!g||typeof g!="object"||!h||typeof h!="object")return!1;var o=0;for(var f in g)if(g.hasOwnProperty(f)){if(!h.hasOwnProperty(f)||!p(g[f],h[f]))return!1;o++}for(var f in h)h.hasOwnProperty(f)&&o--;return o==0}function d(g,h,o,f){var k;if(o.persistent)for(var _=h.persistentStates;_&&!k;_=_.next)(o.spec?p(o.spec,_.spec):o.mode==_.mode)&&(k=_);var T=k?k.mode:o.mode||t.getMode(g,o.spec),j=k?k.state:t.startState(T);o.persistent&&!k&&(h.persistentStates={mode:T,spec:o.spec,state:j,next:h.persistentStates}),h.localState=j,h.local={mode:T,end:o.end&&i(o.end),endScan:o.end&&o.forceEnd!==!1&&i(o.end,!1),endToken:f&&f.join?f[f.length-1]:f}}function m(g,h){for(var o=0;o<h.length;o++)if(h[o]===g)return!0}function x(g,h){return function(o,f,k){if(o.local&&o.local.mode.indent)return o.local.mode.indent(o.localState,f,k);if(o.indent==null||o.local||h.dontIndentStates&&m(o.state,h.dontIndentStates)>-1)return t.Pass;var _=o.indent.length-1,T=g[o.state];e:for(;;){for(var j=0;j<T.length;j++){var S=T[j];if(S.data.dedent&&S.data.dedentIfLineStart!==!1){var E=S.regex.exec(f);if(E&&E[0]){_--,(S.next||S.push)&&(T=g[S.next||S.push]),f=f.slice(E[0].length);continue e}}}break}return _<0?0:o.indent[_]}}})})();function wn(n,e,t=null,r=null){const i=new RegExp(ve(e)),s=(t??n.posFromIndex(0)).line,u=(r==null?void 0:r.line)??n.lastLine();for(let a=s;a<=u;a++){let p=n.getLine(a);a==u&&r!=null&&(p=p.slice(0,r.ch)),a==s&&t!=null&&(p=p.slice(t.ch));const d=i.exec(p);if(d){let m=d.index;return a==s&&t!=null&&(m+=t.ch),Qe.Pos(a,m)}}return null}const xn={"Shift-Ctrl-L":"deleteLine","Ctrl-Space":"autocomplete","Ctrl-D"(n){const e=new Set;for(const r of n.listSelections()){const i=r.from().line,s=r.to().line;for(let u=i;u<=s;u++)e.add(u)}const t=[...e];for(const r of bn(t)){const i=n.getLine(r),s={ch:i.length,line:r};n.replaceRange(`
`+i,s,s)}},"Shift-Tab":"indentLess","Shift-Alt-D"(n){if(!n.somethingSelected()){const s=n.findWordAt(n.getCursor());n.addSelection(s.from(),s.to());return}const t=n.listSelections().at(-1),r=n.getRange(t.from(),t.to()),i=wn(n,r,t.to());i&&n.addSelection(i,Qe.Pos(i.line,i.ch+r.length))}},Ct=et(me({name:"Editor",props:{content:{type:String,default:""},highlight:{type:Object},mode:{type:null},config:{type:Object},useExtendedShortcuts:{type:Boolean,default:!0}},emits:{change:n=>!0},setup(n,e){const t=Se();let r=null,i=n.content;Z(()=>n.content,a=>{r&&a!=r.getValue()&&r.setValue(a)}),Z(()=>n.mode,a=>{r&&r.setOption("mode",a)});function s(a){a.classList.add("absolute-fill"),a.style.height="100%",t.value=a}tt(()=>{var p;r=Qe(s,{value:i,lineNumbers:!0,mode:n.mode??"simple",lineWrapping:!0,indentUnit:4,...n.config,extraKeys:{...n.useExtendedShortcuts?xn:void 0,...(p=n.config)==null?void 0:p.extraKeys,"Ctrl-S":()=>e.emit("change",i)}}),nt(()=>r.refresh());let a=0;r.on("change",()=>{var m;const d=r.getValue();if(d.length>i.length&&r.state.selectionActive==null&&((m=n.config)!=null&&m.hintOptions)&&!n.config.hintOptions.completeSingle&&Date.now()-a>50){const x=r.findWordAt(r.getCursor()),g=r.getRange(x.from(),x.to());g.length>0&&new kt(g).readWhile(jt)==g&&r.execCommand("autocomplete")}i=d}),r.on("endCompletion",()=>{a=Date.now()}),r.on("blur",()=>{e.emit("change",i)})}),Vt(()=>{e.emit("change",i)});let u=null;return Z(()=>n.highlight,a=>{if(u&&(u.clear(),u=null),r==null||a==null)return;let p=a.offset;a.lineOffset&&(p+=r.indexFromPos({ch:0,line:a.lineOffset}));const d=r.posFromIndex(p),m=r.posFromIndex(p+a.length);r.scrollIntoView(d),u=r.getDoc().markText(d,m,{className:"bg-warning-translucent"})}),()=>L("div",null,[L(wt,{node:t.value},null)])}}));function Ae(n){return typeof n=="string"?n:`calc(var(--size-int) * ${n})`}function ht(){const n={display:"grid"};let e=!1,t=!1;return{rows(...r){return n.gridTemplateRows=r.map(Ae).join(" "),e=!0,this},columns(...r){return n.gridTemplateColumns=r.map(Ae).join(" "),e=!0,this},autoRows(r){return n.gridAutoRows=Ae(r),e=!0,this},autoColumns(r){return n.gridAutoColumns=Ae(r),e=!0,this},left(r,i){return t=!0,i==null?n.gridColumn=r.toString():n.gridColumn=`${r} / ${i}`,this},top(r,i){return t=!0,i==null?n.gridRow=r.toString():n.gridRow=`${r} / ${i}`,this},colspan(r){return this.left("auto",`span ${r}`)},rowspan(r){return this.top("auto",`span ${r}`)},debug(){return n["--debug"]=JSON.stringify(JSON.stringify(n)),this},get $(){return t&&!e&&delete n.display,n}}}function Pe(n={},e=null){return rt({selected:e??Object.keys(n)[0],list:Object.entries(n),next(){const r=this.list.findIndex(i=>i[0]==this.selected)%this.list.length;this.selected=this.list[r][0]}})}const vn={variant:{type:String},tabs:{type:Object,required:!0},compact:{type:Boolean},buttonClass:{type:String},border:{type:Boolean}},Le=me({name:"Tabs",props:vn,setup(n,e){if(n.border)return()=>L("div",{class:["flex row pt-1",!n.compact&&"gap-1"]},[n.tabs.list.map(([i,s])=>L(ge,{onClick:()=>n.tabs.selected=i,textual:!0,key:i,class:[n.buttonClass,"as-retro-tab",n.tabs.selected==i&&"-selected"]},{default:()=>[typeof s=="string"?s:s(),L("div",{class:"-border"},null),L("div",{class:"-connector"},null)]}))]);const t={};function r(i,s,u){if(!i)throw new Error("Selected state changed to null");if(!s){if(!(i in t)){if(u)throw new Error("Selected tab does not exist");nt(()=>r(i,s,!0));return}t[i].classList.add("active");return}const a=t[s],p=t[i],d=a.getBoundingClientRect();a.classList.remove("active"),p.classList.add("active");const m=p.getBoundingClientRect(),x=d.left+d.width/2-(m.left+m.width/2),g=d.width/m.width;p.style.transform=`translateX(${x}px) scaleX(${g})`,setTimeout(()=>{p.classList.add("moving"),p.style.transform="none",setTimeout(()=>{p.classList.remove("moving")},100)},10)}return Z(()=>n.tabs.selected,(i,s)=>{n.tabs.list.length!=0&&r(i,s,!1)}),tt(()=>{n.tabs.selected&&(n.tabs.selected in t||(n.tabs.selected=Object.keys(t)[0]),t[n.tabs.selected].classList.add("active"))}),()=>L("div",{class:["flex row",!n.compact&&"gap-4"]},[n.tabs.list.map(([i,s])=>L(ge,{onClick:()=>n.tabs.selected=i,textual:!0,flat:!0,key:i,class:["pb-1 px-0",n.buttonClass]},{default:()=>[typeof s=="string"?s:He(s),L("div",{ref:u=>t[i]=u,class:["as-tabs-indicator",n.variant?`bg-${n.variant}`:"bg-highlight"]},null)]}))])}}),_n=me({name:"TabbedContainer",props:{defaultValue:{type:String},tabsProps:{type:Object},tabsWrapper:{type:Function},externalTabs:{type:Object},...Ft},setup(n,e){function t(){var a,p;const s=Ht((p=(a=e.slots).default)==null?void 0:p.call(a)),u=[];for(const d of s)if(typeof d=="object"&&d!=null&&d.type==Xe){if(d.props==null||d.props.name==null)continue;const m=d.props.name,x=d.props.label??m;u.push({name:m,label:x,content:d})}return u}function r(s){const u=i.list,a=s.map(p=>[p.name,p.label]);u.map(p=>p[0]).join(",")!=a.map(p=>p[0]).join(",")&&nt(()=>{var p;a.some(d=>d[0]==i.selected)||(i.selected=((p=a[0])==null?void 0:p[0])??""),i.list=a})}const i=n.externalTabs??Pe({});return()=>{const s=t();r(s);const u=s.find(p=>p.name==i.selected),a=n.tabsWrapper?n.tabsWrapper(u==null?void 0:u.content):u==null?void 0:u.content;return n.externalTabs?L("div",null,[a]):L("div",null,[L(Le,Ue(n.tabsProps,{tabs:i}),null),a])}}}),Xe=me({name:"Tab",props:{name:{type:String,required:!0},label:{type:null}},setup(n,e){return()=>{var t,r;return(r=(t=e.slots).default)==null?void 0:r.call(t)}}});class Et{constructor(){return this.code=xt(""),this.errors=rt([]),this.ready=!1,Ut(this)}isLanguageService(){return!1}compile(e){this.ready=!1,this.errors.length=0;try{this._compile(e)}catch(t){console.error(t),this.errors.push(`<span class="text-danger">Failed to run code due to internal error:<br />&nbsp;&nbsp;${ke(Wt(t))}</span>`)}}}function kn(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Xt(n)}const Sn=et(me({name:"EditorView",props:{code:{type:String},root:{type:Boolean},vertical:{type:Boolean},noRunButton:{type:Boolean},tab:{type:String},mode:{type:null},localStorageId:{type:String},config:{type:Object},codeRatio:{type:Number},state:{type:Et,required:!0},toolbarClass:{type:null}},emits:{compile:(n,e)=>!0},setup(n,e){const t=qt(),r=Kt();n.localStorageId&&!n.root&&console.warn("EditorView has localStorageId but it is not root, so no state will be saved"),Z(()=>n.code,()=>{n.code!=null&&(n.state.code.value=n.code)},{immediate:!0});const i=Pe();if(n.tab!=null&&(i.selected=n.tab),Z(()=>n.tab,()=>{n.tab!=null&&(i.selected=n.tab)}),n.root){if(t.query.code){const h=t.query.code;n.state.code.value=h,r.replace({query:{code:void 0}})}else if(n.localStorageId!=null){const h=localStorage.getItem(n.localStorageId+":editor-code");h!=null&&(n.state.code.value=h)}if(n.localStorageId){const h=localStorage.getItem(n.localStorageId+":editor-tab");h!=null&&(i.selected=h),Z(n.state.code,o=>localStorage.setItem(n.localStorageId+":editor-code",o)),Z(()=>i.selected,o=>localStorage.setItem(n.localStorageId+":editor-tab",o))}}function s(){n.state.compile(n.state.code.value)}Z(n.state.code,s,{immediate:!0});const u=Se(),a=Se(!1);Gt(()=>{const o=u.value.clientHeight<500;a.value!=o&&(a.value=o)},{immediate:!0});function p(){return L("div",{class:"absolute-fill flex column gap-2 scroll p-2"},[n.state.errors.map(h=>L("div",{class:"border border-danger rounded pre-wrap monospace px-2",innerHTML:h},null))])}let d=null;const m=xt(null);function x(h){if(d&&(d.classList.remove("bg-warning-translucent"),d=null),m.value=null,h.target instanceof HTMLElement){const o=h.target.closest("[data-offset][data-length]");if(o){const f=+o.dataset.offset,k=+o.dataset.length;let _=o.dataset.lineOffset;_!=null&&(_=+_),d=o,d.classList.add("bg-warning-translucent"),m.value={offset:f,length:k,lineOffset:_}}}}const g=Jt(()=>{let h=null;return n.state.isLanguageService()&&(h=Je(h,{hintOptions:{hint:o=>n.state.getHints(o),updateOnCursorActivity:!0,completeSingle:!1},lint:{getAnnotations:(o,f,k)=>n.state.getAnnotations(o,k)}})),h=Je(h,n.config),h});return()=>{let h;const o=L("div",{class:["p-1 px-2 flex row gap-2",n.toolbarClass]},[L("div",{class:"flex-fill flex row gap-2"},[vt(e.slots,"default")]),!n.noRunButton&&L(ge,{onClick:s,variant:"success"},{default:()=>[X("Run "),L(_t,{icon:nn},null),X(" ")]})]),f=L("div",{class:"p-1 px-2"},[L(Le,{border:!0,class:"absolute left-0 bottom-0 ml-1",tabs:i},null)]),k=L("div",null,[L(Ct,{content:n.state.code.value,onChange:T=>n.state.code.value=T,class:"absolute-fill",highlight:m.value,mode:n.mode,config:g.value},null)]),_=L("div",{class:"flex column",ref:u},[L(_n,{class:"flex-fill",externalTabs:i,onMousemove:x,onMouseleave:x},{default:()=>[n.state.getOutput().map(T=>L(Xe,{name:T.name,key:T.name,label:T.label},{default:()=>[L("div",{class:"absolute-fill overflow-auto p-2"},[n.state.ready?typeof T.content=="string"?L("div",{class:"monospace pre-wrap",innerHTML:T.content},null):T.content():L("div",{class:"muted p-2"},[X("Waiting for compilation...")])])]})),a.value&&L(Xe,{name:"errors",label:"Errors"},kn(h=p())?h:{default:()=>[h]})]}),a.value==!1&&n.state.errors.length>0&&L("div",{class:"flex-basis-300 border-top",onMousemove:x,onMouseleave:x},[p()])]);return n.vertical?We(L("div",{class:"flex-fill",style:ht().rows("auto",`${n.codeRatio??1}fr`,8,`${n.codeRatio!=null?1-n.codeRatio:1}fr`).$},[o,X(" "),k,X(" "),f,X(" "),_]),[[$e("child-class"),"border-bottom","head3"]]):We(L("div",{class:"flex-fill",style:ht().columns(`${n.codeRatio??1}fr`,`${n.codeRatio!=null?1-n.codeRatio:1}fr`).rows("auto","1fr").$},[o,X(" "),f,X(" "),k,X(" "),_]),[[$e("child-class"),"border-right","odd"],[$e("child-class"),"border-bottom","head2"]])}}})),Tn=n=>n;function ft(n){return n==0?n+"":n+"px"}class Mt{_renderContent(e){return e.map(t=>this._renderNode(t))}_normalizeAttributes(e,t=null){if(e.attributes&&(t!=null?t=new Map(pn(e.attributes,t)):t=e.attributes),e.classList!=null){t!=null&&e.attributes==t&&(t=new Map(t)),t??(t=new Map);const r=t.get("class");t.set("class",r?r+" "+e.classList.join(" "):e.classList.join(" "))}if(e.color!=null)if(t!=null&&e.attributes==t&&(t=new Map(t)),t??(t=new Map),e.color.startsWith("#"))t.set("style",(t.get("style")??"")+`;color:${e.color}`);else{const r=t.get("class");t.set("class",r?r+" "+e.color:e.color)}for(const[r,i,s]of[["align","text-align",Tn],["width","width",ft],["height","height",ft]])e[r]!=null&&(t??(t=new Map),t.set("style",(t.get("style")??"")+`;${i}:${s(e[r])}`));return t}_renderSpan(e){const t=e.modifier=="bold"?"strong":e.modifier=="italics"?"em":e.modifier=="code"?"code":"span";return this._renderElement(t,this._normalizeAttributes(e),e.content)}_renderObject(e){const t=e.type=="media"?"img":e.type=="link"?"a":e.type=="raw"?e.value??"span":ne();let r=null;return e.value!=null&&(e.type=="media"?(r=new Map,r.set("src",e.value)):e.type=="link"&&(r=new Map,r.set("href",e.value))),this._renderElement(t,this._normalizeAttributes(e,r),e.content)}_renderSegment(e){const t=this._normalizeAttributes(e);if(t!=null||e.type!=null){const r=e.type=="ol"?"ol":e.type=="ul"?"ul":e.type=="li"?"li":e.type=="quote"?"blockquote":e.type=="p"?"p":e.type==4?"h4":e.type==3?"h3":e.type==2?"h2":e.type==1?"h1":ne();return this._renderElement(r,t,e.content)}else return this._renderElement("",null,e.content)}_renderCodeBlock(e){return this._renderElementRaw("pre",null,this._renderElementRaw("code",e.lang!=null?new Map([["class","language-"+e.lang]]):null,this._renderText(e.content)))}_renderTable(e){const t=[],r=[];for(const s of e.content)if(s.kind=="table-row"){if(s.header){t.push(s);continue}r.push(s)}const i=s=>this._renderElementRaw("tr",null,s.content.map(u=>this._renderElementRaw("td",null,this._renderNode(u))).join(""));return this._renderElementRaw("table",null,qe([t.length>0&&this._renderElementRaw("thead",null,t.map(i).join("")),r.length>0&&this._renderElementRaw("tbody",null,r.map(i).join(""))]).join(""))}_renderNode(e){if(e.kind=="text")return this._renderText(e.value);if(e.kind=="raw")return this._renderRaw(e.value);if(e.kind=="span")return this._renderSpan(e);if(e.kind=="object")return this._renderObject(e);if(e.kind=="segment")return this._renderSegment(e);if(e.kind=="code-block")return this._renderCodeBlock(e);if(e.kind=="table")return this._renderTable(e);ne()}render(e){return this._renderNode(e)}}class On extends Mt{_renderAttributes(e=null){return e==null||e.size==0?"":" "+[...e].map(t=>`${t[0]}="${t[1]}"`).join(" ")}_renderText(e){return ke(e).replace(/\n/g,"<br>")}_renderRaw(e){return e}_renderElement(e,t,r){return e==""?this._renderContent(r).join(""):`<${e}${this._renderAttributes(t)}>${this._renderContent(r).join("")}</${e}>`}_renderElementRaw(e,t,r){return`<${e}${this._renderAttributes(t)}>${r}</${e}>`}}class D extends Error{constructor(e){super("__MSG"),this._message=e,this.name="DeserializationError",this.path="",this._isClientError=!0,this._oldMessage=this.message,this._oldStack=this.stack??"",this._updateMessage()}_updateMessage(){const e=`Invalid type at .${this.path} : ${this._message}`;this.message=this._oldMessage.replace(/__MSG/,e),this.stack=this._oldStack.replace(/__MSG/,e)}appendPath(e){this.path=`${e}${this.path?`.${this.path}`:this.path}`,this._updateMessage()}}class jn{}class Nt{}class At extends jn{createPrimitive(e){return e}createAtom(e){return e}createNull(){return null}createAny(e){return e}createObject(){return{}}addObjectProperty(e,t,r){r!=w.IGNORE_VALUE&&(e[t]=r)}createArray(){return[]}addArrayElement(e,t){t!=w.IGNORE_VALUE&&e.push(t)}createMap(){return{}}addMapProperty(e,t,r){r!=w.IGNORE_VALUE&&(e[t]=r)}finish(e){return e==w.IGNORE_VALUE?null:e}}class $t extends Nt{constructor(e){super(),this.root=e}getRootHandle(){return this.root}parsePrimitive(e){return e}parseAtom(e){return e}getTypeHint(e){if(typeof e=="string")return"string";if(typeof e=="number")return"number";if(typeof e=="boolean")return"boolean";if(e==null)return"null";if(typeof e=="object")return e instanceof Array?"array":"object";throw new TypeError("Cannot get type hint")}isNull(e){return e==null}parseAny(e){return e}parseObject(e){return typeof e!="object"||e==null||Array.isArray(e)?null:e}getObjectProperty(e,t){return t in e?e[t]:null}parseArray(e){return Array.isArray(e)?e:null}*getArrayElements(e){for(const t of e)yield t}parseMap(e){return this.parseObject(e)}*getMapProperties(e){for(const t of Object.entries(e))yield t}}class Cn extends Nt{constructor(e){super(),this.root=e}getRootHandle(){return this.root}parsePrimitive(e){return e}parseAtom(e){return e}isNull(e){return e==null}getTypeHint(e){if(typeof e=="string")return"string";if(typeof e=="number")return"number";if(typeof e=="boolean")return"boolean";if(e==null)return"null";if(typeof e=="object")return e instanceof Array?"array":"object";throw new TypeError("Cannot get type hint")}parseAny(e){return e}parseObject(e){return e}getObjectProperty(e,t){return e[t]}parseArray(e){return e}*getArrayElements(e){yield*e}parseMap(e){return e}*getMapProperties(e){yield*e}}const En=new Map;class w{constructor(){this._annotations=null}get definition(){return this.getDefinition("")}as(e,...t){return e(this,...t)}serialize(e,t=At){const r=new t,i=this._serialize(e,r);return r.finish(i)}deserialize(e,t=$t){const r=new t(e);return this._deserialize(r.getRootHandle(),r)}derive(e=Object.getPrototypeOf(this)){return Object.assign(Object.create(e),this)}annotate(...e){const t=e.map(i=>[i.constructor,i]),r=this.derive();return this._annotations==null?(r._annotations=new Map(t),r):(r._annotations=new Map([...this._annotations,...t]),r)}getMetadata(){return this._annotations==null?En:this._annotations}clone(e){return this.deserialize(e,Cn)}matches(e){try{return this.verify(e),!0}catch(t){if(t instanceof D)return!1;throw t}}}(n=>{var e,t,r,i,s,u,a;n.IGNORE_VALUE=Symbol.for("struct.ignore");function p(O){return O instanceof n}n.isType=p;class d extends n{constructor(l,y){super(),this.name=l,this._default=y,this._typeof=typeof this._default}getDefinition(l){return l+this.name}default(){return this._default}_serialize(l,y){return y.createAtom(l)}_deserialize(l,y){const M=y.parseAtom(l);if(typeof M!=this._typeof)throw new D("Expected "+this.name);return M}verify(l){if(typeof l!=this._typeof)throw new D("Expected "+this.name);return l}}n.AtomType=d,n.atom=new d("atom","");class m extends n{constructor(l,y){super(),this.name=l,this._default=y,this._typeof=typeof this._default}getDefinition(l){return l+this.name}default(){return this._default}_serialize(l,y){return y.createPrimitive(l)}_deserialize(l,y){const M=y.parsePrimitive(l);if(typeof M!=this._typeof)throw new D("Expected "+this.name);return M}verify(l){if(typeof l!=this._typeof)throw new D("Expected "+this.name);return l}}n.PrimitiveType=m,n.number=new m("number",0),n.boolean=new m("boolean",!1),n.string=new m("string",""),n.empty=new class extends m{verify(l){}_deserialize(l,y){}constructor(){super("empty",null)}};const x=Symbol.for("struct.isArray");n.isArray=O=>x in O;class g extends n{constructor(l){super(),this.elementType=l,this.name=this.elementType.name+"[]",this[e]=!0}getDefinition(l){return this.elementType.getDefinition(l)+"[]"}default(){return[]}_serialize(l,y){const M=y.createArray();for(const A of l){const P=this.elementType._serialize(A,y);y.addArrayElement(M,P)}return M}_deserialize(l,y){const M=[],A=y.parseArray(l);if(A==null)throw new D("Expected "+this.definition);let P=-1;for(const C of y.getArrayElements(A)){P++;let I;try{I=this.elementType._deserialize(C,y)}catch(U){throw U instanceof D&&U.appendPath(P.toString()),U}I!=n.IGNORE_VALUE&&M.push(I)}return M}verify(l){if(typeof l!="object"||l==null||!Array.isArray(l))throw new D("Expected "+this.definition);let y=-1;for(const M of l){y++;try{this.elementType.verify(M)}catch(A){throw A instanceof D&&A.appendPath(y.toString()),A}}return l}}e=x,n.ArrayType=g;function h(O){return new g(O)}n.array=h;const o=Symbol.for("struct.isMap");n.isMap=O=>o in O;class f extends n{constructor(l,y){super(),this.keyType=l,this.valueType=y,this.name=`Map<${this.keyType.name}, ${this.valueType.name}>`,this[t]=!0}getDefinition(l){return l+`Map<${this.keyType.definition}, ${this.valueType.definition}>`}default(){return new Map}_serialize(l,y){const M=y.createMap();for(const[A,P]of l){const C=this.keyType._serialize(A,y),I=this.valueType._serialize(P,y);y.addMapProperty(M,C,I)}return M}_deserialize(l,y){const M=new Map,A=y.parseMap(l);if(A==null)throw new D("Expected "+this.definition);let P=-1;for(const[C,I]of y.getMapProperties(A)){P++;let U,W;try{U=this.keyType._deserialize(C,y)}catch(G){throw G instanceof D&&G.appendPath(P.toString()),G}try{W=this.valueType._deserialize(I,y)}catch(G){throw G instanceof D&&G.appendPath(U.toString()),G}W!=n.IGNORE_VALUE&&M.set(U,W)}return M}verify(l){if(typeof l!="object"||l==null||!(l instanceof Map))throw new D("Expected "+this.definition);let y=-1;for(const[M,A]of l){y++;try{this.keyType.verify(M)}catch(P){throw P instanceof D&&P.appendPath(y.toString()),P}try{this.valueType.verify(A)}catch(P){throw P instanceof D&&P.appendPath(M.toString()),P}}return l}}t=o,n.MapType=f;function k(O,l){return new f(l??n.string,O)}n.map=k;const _=Symbol.for("struct.isObject");class T extends n{constructor(l,y){super(),this.name=l,this.props=y,this.propList=Object.entries(this.props),this[r]=!0,this._migrations=null}getDefinition(l){const y=[];y.push(l+this.name+" {");const M=l+"    ";for(const[A,P]of this.propList)y.push(`${M}${A}: ${P.definition}`);return y.push(l+"}"),y.join(`
`)}default(){const l=this._makeBase();for(const[y,M]of this.propList)l[y]=M.default();return l}_serialize(l,y){const M=y.createObject();this._migrations&&y.addObjectProperty(M,"!version",y.createPrimitive(this._migrations.currVersion));for(const[A,P]of this.propList){const C=l[A],I=P._serialize(C,y);y.addObjectProperty(M,A,I)}return M}_makeBase(){return{}}_deserialize(l,y){const M=this._makeBase(),A=y.parseObject(l);if(A==null)throw new D("Expected "+this.definition);if(this._migrations!=null){const P=this._migrations.currVersion,C=y.getObjectProperty(A,"!version");let I;if(y.isNull(C))I=-1;else try{I=n.number._deserialize(C,y)}catch(W){throw W instanceof D&&W.appendPath("!version"),W}let U;if(I<P){U=new Map;const W=this._migrations.list.findIndex(G=>G.version>I);if(W==-1)throw new Error("Cannot perform migration, source version is less than current version but there are no migrations newer than source version");for(let G=W;G<this._migrations.list.length;G++)this._migrations.list[G].migrate(A,y,U)}this._apply(M,A,y,U)}else this._apply(M,A,y);return M}_apply(l,y,M,A){for(const[P,C]of this.propList){if(A!=null&&A.has(P)){l[P]=A.get(P);continue}const I=M.getObjectProperty(y,P);let U;try{U=C._deserialize(I,M)}catch(W){throw W instanceof D&&W.appendPath(P),W}U!=n.IGNORE_VALUE&&(l[P]=U)}}defineMigrations(l){if(l.length==0)return;l=l.sort((M,A)=>M.version-A.version);const y=l[l.length-1].version;this._migrations={currVersion:y,list:l}}verify(l){if(typeof l!="object"||l==null)throw new D("Expected "+this.definition);for(const[y,M]of this.propList)try{M.verify(l[y])}catch(A){throw A instanceof D&&A.appendPath(y),A}return l}}r=_,n.ObjectType=T;class j extends T{constructor(l,y){super(l,{}),this._getter=y,Object.defineProperty(this,"props",{configurable:!0,enumerable:!0,get:()=>{if(this._getter==null)throw new Error("Tried to compute props on a LazyObjectType, but the getter was already set to null");const M={};return Object.defineProperty(this,"props",{value:M,enumerable:!0,configurable:!0,writable:!0}),this._getter(M),this._getter=null,M}}),Object.defineProperty(this,"propList",{configurable:!0,enumerable:!0,get:()=>{const M=Object.entries(this.props);return Object.defineProperty(this,"propList",{value:M,enumerable:!0,configurable:!0,writable:!0}),M}})}}n.LazyObjectType=j;class S extends T{constructor(l,y){super(l,y),this.props=y}}n.TypedObjectType=S;function E(O){return new S("$anon",O)}n.object=E;function V(O,l){return new S(O,l)}n.namedType=V;function z(O,l){return new j(O,l)}n.lazyNamedType=z;function R(O,l,y,M){return M?new class extends T{_makeBase(){return new O}default(){return M()}constructor(){super(l,y)}}:new class extends T{_makeBase(){return new O}constructor(){super(l,y)}}}n.objectWithClass=R,n.isObject=O=>_ in O,n.partial=O=>new T("Partial<"+O.name+">",Object.fromEntries(O.propList.map(([l,y])=>[l,(0,n.isNullable)(y)?y:n.nullable(y)])));function F(O,...l){return new T("$anon",Object.fromEntries(l.map(y=>[y,O.props[y]])))}n.pick=F;function N(O,...l){return new T("$anon",Object.fromEntries(l.map(y=>[y,O.props[y]])))}n.omit=N;const B=Symbol.for("struct.isNullable");n.isNullable=O=>B in O;class Y extends n{constructor(l,y){super(),this.base=l,this.skipNullSerialize=y,this.name=this.base.name+" | "+null,this[i]=!0}getDefinition(l){return this.base.getDefinition(l)+" | "+null}default(){return null}_serialize(l,y){return l==null?this.skipNullSerialize?n.IGNORE_VALUE:y.createNull():this.base._serialize(l,y)}_deserialize(l,y){return y.isNull(l)?null:this.base._deserialize(l,y)}verify(l){return l==null?null:this.base.verify(l)}}i=B,n.NullableType=Y;function Q(O,{skipNullSerialize:l=!1}={}){return new Y(O,l)}n.nullable=Q;const ee=Symbol.for("struct.isOptional");n.isOptional=O=>ee in O;class je extends n{constructor(l,y){super(),this.base=l,this.defaultFactory=y,this.name=this.base.name+"?",this[s]=!0}getDefinition(l){return this.base.getDefinition(l)+"?"}default(){return this.defaultFactory==null?this.base.default():this.defaultFactory()}_serialize(l,y){return this.base._serialize(l,y)}_deserialize(l,y){return y.isNull(l)?this.default():this.base._deserialize(l,y)}verify(l){return this.base.verify(l)}}s=ee,n.OptionalType=je;function De(O,l){return new je(O,l??null)}n.optional=De;const Ce=Symbol.for("struct.isPassthrough");n.isPassthrough=O=>Ce in O;class Ee extends n{constructor(l,y){super(),this.name=l,this.defaultFactory=y,this[u]=!0}getDefinition(l){return l+this.name}default(){return this.defaultFactory()}_serialize(l,y){return y.createAny(l)}_deserialize(l,y){return y.parseAny(l)}verify(l){return l}}u=Ce,n.PassthroughType=Ee;function be(O,l="passthrough"){if(O!=null&&typeof O!="function"){const y=O;O=()=>y}return new Ee(l,O??(()=>{throw new Error("Cannot create a default value of "+l)}))}n.passthrough=be,n.any=be("any");const ye=Symbol.for("struct.isEnum");n.isEnum=O=>ye in O;class Be extends n{constructor(l){super(),this.entries=l,this.name=this.entries.join(" | "),this[a]=!0,this._entries=new Set(this.entries)}getDefinition(l){return l+this.name}default(){return this.entries[0]}_serialize(l,y){return y.createPrimitive(l)}_deserialize(l,y){const M=y.parsePrimitive(l);if(!this._entries.has(M))throw new D("Expected "+this.name);return M}verify(l){if(!this._entries.has(l))throw new D("Expected "+this.name);return l}}a=ye,n.EnumType=Be,n.byKeyProperty=(O,l,y,M)=>new class extends n{constructor(){super(...arguments),this.name=O}getDefinition(A){return A+this.name}default(){return M()}_serialize(A,P){return n.string._serialize(A[l],P)}_deserialize(A,P){let C;try{C=n.string._deserialize(A,P)}catch(U){throw U instanceof D?new D("Expected "+this.name):U}const I=typeof y=="function"?y(C):y.get(C);if(I==null)throw new D(`Invalid ${O} ${l.toString()} "${C}"`);return I}verify(A){if(typeof A!="object"||A==null||!(l in A))throw new D("Expected "+this.name);const P=A[l],C=typeof y=="function"?y(P):y.get(P);if(C==null)throw new D(`Invalid ${O} ${l.toString()} "${P}"`);if(C!=A)throw new D(`Invalid ${O} ${P}, ${l.toString()} matches but the value does not equal`);return A}};function Ve(O,l,y,M){M??(M=()=>null);const A=new Map(Object.entries(y));return new class extends n{constructor(){super(...arguments),this.name=O}getDefinition(P){return P+O}default(){return M()}_serialize(P,C){const I=P[l],U=A.get(I);if(U==null)throw new D(`Invalid ${O} ${l.toString()} "${I}"`);return U._serialize(P,C)}_deserialize(P,C){const I=C.parseObject(P);if(I==null)throw new D("Expected "+this.definition);const U=C.getObjectProperty(I,l.toString());let W;try{W=n.string._deserialize(U,C)}catch(le){throw le instanceof D&&le.appendPath(l.toString()),le}const G=A.get(W);if(G==null)throw new D(`Invalid ${O} ${l.toString()} "${W}"`);return G._deserialize(I,C)}verify(P){if(typeof P!="object"||P==null||!(l in P))throw new D("Expected "+this.name);const C=P[l],I=A.get(C);if(I==null)throw new D(`Invalid ${O} ${l.toString()} "${C}"`);return I.verify(P)}}}n.byKeyUnion=Ve;function Me(O,l){const y=O.constructor;class M extends y{default(){return l()}}return O.derive(M.prototype)}n.withDefault=Me})(w||(w={}));function Mn(...n){return new w.EnumType(n)}w.enum=Mn;var J;(n=>{function e(h){if(w.isType(h))return h;const o=t(h);if(o==null)throw new Error("Cannot get base type, because the value is not a struct instance");return"baseType"in o?o.baseType:o}n.getBaseType=e;function t(h){if(w.isType(h))return h;if(typeof h=="function"){if("baseType"in h&&"ref"in h)return h.ref();throw new Error("Value is not a struct")}else return t(h.constructor)}n.getType=t,n.DECORATOR_FIELD=Symbol.for("struct.decoratorField");class r{constructor(o,f){this.name=o,this._source=f,this._props=null,this._defaultFields=null,this.getProps=k=>{if(this._props!=null)return k!=this._props&&Object.assign(k,this._props),this._props;if(typeof this._source!="function")return this._defaultFields=Object.fromEntries(Object.keys(this._source).map(j=>[j,null])),Object.assign(k,this._source),this._props=k,this._source=null,this._props;const _={},T=new this._source;for(const[j,S]of Object.entries(T))if(S instanceof x){if(k[j]=S.type,n.DECORATOR_FIELD in S.type)continue;_[j]=null;continue}return this._props=k,this._defaultFields=_,this._source=null,this._props}}getObjectType(){return typeof this._source=="function"?new w.LazyObjectType(this.name,this.getProps):new w.TypedObjectType(this.name,this.getProps({}))}getDefaultFields(){return this._defaultFields??(this.getProps({}),this._defaultFields)}}function i(h,o,f,k){const _=new r(h,o);let T=_.getObjectType();k!=null&&k.baseTypeDecorator&&(T=k.baseTypeDecorator(T));const j=new Map,E=class E extends(f??Object){serialize(){return this.constructor.ref().serialize(this)}constructor(z){super(),Object.assign(this,_.getDefaultFields(),z??{}),"_postDeserialize"in this&&this._postDeserialize()}static ref(){const z=j.get(this);if(z)return z;const R=this,F=T.derive((class extends T.constructor{_makeBase(){return new R}}).prototype);return j.set(this,F),F}static default(){return this.ref().default()}static deserialize(z){return this.ref().deserialize(z)}};E.baseType=T;let S=E;return S}n.define=i;const s=w.object({"!type":w.atom});class u extends w{constructor(o,f){super(),this.name=o,this.types=f}getDefinition(o){return o+this.name}default(){return null}verify(o){return n.getBaseType(o).verify(o)}_serialize(o,f){const k=n.getBaseType(o),_=k._serialize(o,f);return f.addObjectProperty(_,"!type",k.name),_}_deserialize(o,f){const k=s._deserialize(o,f)["!type"],_=this.types.get(k);if(_==null)throw new D(`Cannot find type "${k}"`);try{return _._deserialize(o,f)}catch(T){throw T instanceof D&&T.appendPath(`(${k})`),T}}}class a{constructor(o){this.name=o,this._types=new Map,this._ref=new u(this.name,this._types)}get base(){return this._ref}getTypes(){return this._types}getTypeNames(){return[...this._types.keys()]}register(o){const f=t(o);this._types.set(e(f).name,f)}ref(){return this.base}}n.PolymorphicSerializer=a;const p=w.object({"!type":w.atom,id:w.string});class d extends w{constructor(o,f){super(),this.name=o,this.contextGetter=f}getDefinition(o){return o+this.name}default(){return null}verify(o){return n.getBaseType(o).verify(o)}_serialize(o,f){return f.createPrimitive(o.id)}_deserialize(o,f){const k=w.string._deserialize(o,f),_=this.contextGetter(k);if(_==null)throw new D(`Cannot resolve reference to "${k}"`);return _}}class m extends a{constructor(o){super(o),this._contextGetter=null,this._graphRef=new d(this.name,f=>{if(this._contextGetter==null)throw new D("Cannot deserialize polymorphic graph reference outside of context");return this._contextGetter(f)})}get base(){return this._graphRef}createContext(o,f){if(this._contextGetter!=null)throw new Error("Cannot create context, context already exists");try{this._contextGetter=o,f()}finally{this._contextGetter=null}}deserialize(o,f=$t){if(this._contextGetter!=null)throw new Error("Cannot create context, context already exists");const k=new f(o),_=k.parseArray(k.getRootHandle());if(_==null)throw new D("Expected array of objects");try{const T=new Map;this._contextGetter=S=>{var E;return(E=T.get(S))==null?void 0:E.instance};let j=-1;for(let S of k.getArrayElements(_)){j++;const E=k.parseObject(S);if(E==null)throw new D("Expected object").appendPath(j.toString());try{const{["!type"]:V,id:z}=p._deserialize(E,k),R=this._types.get(V);if(R==null){const N=new D(`Cannot find type "${V}"`);throw N.appendPath(z),N}const F=R.default();T.set(z,{instance:F,data:E,type:R})}catch(V){throw V instanceof D&&V.appendPath(j.toString()),V}}j=-1;for(const{instance:S,data:E,type:V}of T.values()){j++;try{Object.assign(S,n.getBaseType(V)._deserialize(E,k)),"_postDeserialize"in S&&S._postDeserialize()}catch(z){throw z instanceof D&&z.appendPath(j.toString()),z}}return[...T.values()].map(S=>S.instance)}finally{this._contextGetter=null}}serialize(o,f=At){const k=new f,_=k.createArray();for(const T of o){const j=this._ref._serialize(T,k);k.addArrayElement(_,j)}return _}removeReferences(o,f){const k=(_,T,j)=>{if(w.isNullable(T)){if(_==null)return;T=T.base}if(w.isObject(T))for(const[S,E]of T.propList){const V=_[S],z=j+S;if(V==o)if(w.isNullable(E))_[S]=null;else if(w.isOptional(E))_[S]=E.default();else throw new Error(`Cannot remove reference, property ${JSON.stringify(z)} is not nullable (${E.name})`);else k(V,E,z)}else if(w.isMap(T))for(const[S,E]of[..._]){const V=_[S];V==o?_.delete(S):k(V,T.valueType,j+"."+S)}else if(w.isArray(T))for(let S=0;S<_.length;S++){const E=_[S];E==o?(_.splice(S,1),S--):k(E,T.elementType,j+"."+S)}};for(const _ of f)k(_,n.getType(_),"")}}n.PolymorphicGraphSerializer=m;class x{constructor(o){this.type=o}}n.FieldInfo=x;function g(h){return new x(h)}n.field=g})(J||(J={}));const Nn=["white","black","primary","secondary","success","danger","warning"];class An extends w.EnumType{_deserialize(e,t){const r=t.parsePrimitive(e);return r.startsWith("#")&&r.length==7?r:super._deserialize(e,t)}constructor(){super(Nn)}}const $n=new An,de=new J.PolymorphicSerializer("SyntaxNode");de.base;const xe={modifier:w.enum("bold","italics","code").as(w.nullable,{skipNullSerialize:!0}),color:$n.as(w.nullable,{skipNullSerialize:!0}),classList:w.string.as(w.array).as(w.nullable,{skipNullSerialize:!0}),attributes:w.string.as(w.map).as(w.nullable,{skipNullSerialize:!0}),align:w.enum("left","center","right").as(w.nullable,{skipNullSerialize:!0}),width:w.number.as(w.nullable,{skipNullSerialize:!0}),height:w.number.as(w.nullable,{skipNullSerialize:!0})};class se{constructor(){this._metadata=null}setMetadata(e,t){(this._metadata??(this._metadata=new Map)).set(e,t)}getMetadata(e){return this._metadata==null?null:this._metadata.get(e)??null}}var $;(n=>{class e extends J.define("Text",{value:w.string},se){constructor(){super(...arguments),this.kind="text"}}n.Text=e;class t extends J.define("Raw",{value:w.string},se){constructor(){super(...arguments),this.kind="raw"}}n.Raw=t;class r extends J.define("Span",{...xe,content:de.base.as(w.array)},se){constructor(){super(...arguments),this.kind="span"}}n.Span=r;class i extends J.define("CodeBlock",{lang:w.string.as(w.nullable),content:w.string},se){constructor(){super(...arguments),this.kind="code-block"}}n.CodeBlock=i;class s extends J.define("Object",{...xe,content:de.base.as(w.array),value:w.string.as(w.nullable),type:w.enum("link","media","raw")},se){constructor(){super(...arguments),this.kind="object"}}n.Object=s;class u extends J.define("Table",{...xe,content:de.base.as(w.array)},se){constructor(){super(...arguments),this.kind="table"}}n.Table=u;class a extends J.define("TableRow",{...xe,content:de.base.as(w.array),header:w.boolean},se){constructor(){super(...arguments),this.kind="table-row"}}n.TableRow=a;class p extends J.define("Segment",{...xe,type:w.enum("p",1,2,3,4,"ul","ol","li","quote").as(w.nullable),content:de.base.as(w.array)},se){constructor(){super(...arguments),this.kind="segment"}}n.Segment=p})($||($={}));for(const n of Object.values($))de.register(n);class ze{parseVerbatimContent(e){return[new $.Raw({value:e})]}}class Pt{}function Pn(n,e){const t=n[e];return t=="*"||t=="_"||t=="\\"||t=="`"||t==`
`||t=="!"||t=="["||t=="]"||t=="}"||t=="<"}function Ye(n,e){return n[e]=="}"||_e(n,e)||n[e]==">"||n[e]=="/"}function Ln(n,e){return n[e]=="="||Ye(n,e)}function zn(n,e){return n[e]==" "||n[e]=="	"}function Rn(n,e){return n[e]==";"||_e(n,e)}function In(n,e){return n[e]=="-"||jt(n,e)||n[e]==":"}class Lt extends kt{constructor(e,t){if(super(e),this.widgets=new J.PolymorphicSerializer("MmlWidget"),t!=null&&t.widgets)for(const r of t.widgets)this.widgets.register(r)}_parseInlineCssProperty(e,t,r){if(e=="color"&&t.startsWith("#"))return r??(r=new $.Span({content:[]})),r.color=t,r;if(e=="text-align")try{const i=$.Span.baseType.props.align.verify(t);return r??(r=new $.Span({content:[]})),r.align=i,r}catch(i){if(i instanceof D)return r;throw i}if(e=="width"||e=="height"){const i=parseInt(t);if(!isNaN(i))return r??(r=new $.Span({content:[]})),r[e]=i,r}return e=="font-weight"&&t.startsWith("700")&&(r??(r=new $.Span({content:[]})),r.modifier="bold"),r}parseInlineCss(e){for(;!this.isDone();){if(this.consume('"'))return e;this.skipWhile(Rn);const t=this.readUntil(":");if(this.index++,this.isDone())break;const r=this.readUntil(";");e=this._parseInlineCssProperty(t,r,e)}return e}parseFragment(e,t=[]){for(;!this.isDone();){const r=this.readUntil(Pn);if(r.trim()!=""){const d=t.at(-1);d&&d.kind=="text"?d.value+=r:t.push(new $.Text({value:r}))}if(this.isDone()||e!=null&&this.consume(e))break;if(this.consume("\\")){const d=this.getCurrent();this.index++;const m=t.at(-1);m&&m.kind=="text"?m.value+=d:t.push(new $.Text({value:d}));continue}let i=null;const s=_e(this.at(-1),0);let u=null;if(s&&(u=this.consume(["**","__"]))){const d=this.parseFragment(u);i=new $.Span({content:d,modifier:"bold"})}else if(s&&(u=this.consume(["*","_"]))){const d=this.parseFragment(u);i=new $.Span({content:d,modifier:"italics"})}else if(s&&this.consume("`")){const d=this.parseFragment("`");i=new $.Span({content:d,modifier:"code"})}else if(this.consume("[")){const d=this.parseFragment("]");if(i=new $.Object({content:d,type:"link"}),this.consume("(")){const m=this.readUntil(")");i.value=m,this.index++}}else if(this.consume("![")){const d=this.readUntil("]");if(this.index++,i=new $.Object({content:[],type:"media",attributes:new Map([["alt",d]])}),this.consume("(")){const m=this.readUntil(")");i.value=m,this.index++}}else if(this.consume("<")){const d=this.readWhile(In),m=this.widgets.getTypes().get(d),x=(m==null?void 0:m.getMetadata().get(Pt))!=null;i=new $.Object({content:[],type:"raw",value:d});let g=!1;for(;!this.isDone()&&(this.skipWhile(_e),!this.consume(">"));){if(this.consume("/>")){g=!0;break}const o=this.index;this.parseAttribute(i),this.index==o&&this.index++}if(g)x&&(i.content=[new $.Raw({value:""})]);else{const o=`</${d}>`;x?(i.content=[new $.Raw({value:this.readUntil(o)})],this.index+=o.length):i.content=this.parseFragment(o)}const h=this.widgets.getTypes().get(d);if(h!=null){const o=i.attributes?Object.fromEntries([...i.attributes].map(([_,T])=>T==""?[_,!0]:[_,T])):{};o["!type"]=d;const f=this.widgets.base.deserialize(o),k=i.attributes?new Map(i.attributes):null;if(i=f.getValue(this,i.content),i&&k){w.isObject(h)||ne();for(const[_]of h.propList)k.delete(_);i.attributes?i.attributes=yn(k,i.attributes):i.attributes=k}}}if(i!=null){if(t.push(i),this.consume("{"))for(;!this.isDone()&&(this.skipWhile(_e),!this.consume("}"));){const d=this.index;this.parseAttribute(i),this.index==d&&this.index++}continue}const a=this.getCurrent(),p=t.at(-1);p&&p.kind=="text"?p.value+=a:t.push(new $.Text({value:a})),this.index++}return t}parseAttribute(e){if(this.consume(".")){const i=this.readUntil(Ye);e.classList??(e.classList=[]),e.classList.push(i);return}const t=this.readUntil(Ln);let r=null;t!=""&&(this.consume("=")&&(this.consume('"')?(r=this.readUntil('"'),this.index++):r=this.readUntil(Ye)),e.attributes??(e.attributes=new Map),e.attributes.set(t,r??""))}parseIndent(){return this.readWhile(zn).length}parseSegmentType(){const e=this.index;let t=null;return this.readWhile(Ke)&&this.consume([".",")"])?t="ol":(this.index=e,this.consume(["- ","+ ","* "])&&(t="ul")),t}parseTextBlock(){return new $.Segment({type:"p",content:this.parseFragment(`
`)})}parseSegment(e,t){let r=null;for(;!this.isDone();){const i=this.index,s=this.parseIndent();if(s<e){this.index=i;return}if(this.consume("```")){const d=this.readUntil(`
`).trim();this.index++;const m=this.readUntil("```");this.index+=3;const x=new $.CodeBlock({lang:d!=""?d:null,content:m});r=x,t.content.push(x);continue}let u=null;if(this.consume("####")?u=4:this.consume("###")?u=3:this.consume("##")?u=2:this.consume("#")&&(u=1),u!=null){const d=this.parseTextBlock();d.type=u,r=d,t.content.push(d);continue}if(this.consume(">")){let d;(r==null?void 0:r.kind)=="segment"&&r.type=="quote"?d=r:(d=new $.Segment({type:"quote",content:[]}),t.content.push(d));const m=this.parseTextBlock();d.content.push(m),r=d,this.parseSegment(s+1,d);continue}if(this.consume(["- ","+ ","* "])){let d;(r==null?void 0:r.kind)=="segment"&&r.type=="ul"?d=r:(d=new $.Segment({type:"ul",content:[]}),t.content.push(d));const m=new $.Segment({type:"li",content:[]});d.content.push(m);const x=this.parseTextBlock();m.content.push(x),r=d,this.parseSegment(s+1,m);continue}const a=this.index;if(this.readWhile(Ke)&&this.consume([".",")"])){let d;(r==null?void 0:r.kind)=="segment"&&r.type=="ol"?d=r:(d=new $.Segment({type:"ol",content:[]}),t.content.push(d));const m=new $.Segment({type:"li",content:[]});d.content.push(m);const x=this.parseTextBlock();m.content.push(x),r=d,this.parseSegment(s+1,m);continue}else this.index=a;const p=this.parseTextBlock();if(p.content.length==0){r=null;continue}t.content.push(p),r=p}}parseDocument(){const e=new $.Segment({content:[]});return this.parseSegment(0,e),e}}class Te extends Mt{constructor(){super(...arguments),this.allowedComponents=new Set,this.usedComponents=new Set,this.allowProperties=!1,this._manifest=null}get manifest(){return this._manifest??(this._manifest=new Te.PropertyManifest)}addAllowedComponent(...e){for(const t of e)this.allowedComponents.add(t);return this}_renderAttributes(e){return e==null?"{}":JSON.stringify(Object.fromEntries(e))}_renderText(e){return JSON.stringify(e)}_renderRaw(e){return JSON.stringify(e)}_renderElement(e,t,r){if(e=="")return r.length==0?"[]":r.length==1?this._renderNode(r[0]):"["+this._renderContent(r).join(", ")+"]";if(e=="<>vue-prop"){if(!this.allowProperties)return JSON.stringify("Usage of Vue properties is disabled");const u=t==null?void 0:t.get("name");if(u==null)return JSON.stringify("Vue property name not provided");const a=t==null?void 0:t.get("use");this.manifest.ensureProperty(u);const p=`[${this._renderContent(r).join(", ")}]`;return a!=null?(this.manifest.renderers.add(a),`props.${u} ? ${a}(props.${u}) : ${p}`):`props.${u} ? props.${u} : ${p}`}if(e=="<>vue-decl"){if(!this.allowProperties)return JSON.stringify("Usage of Vue properties is disabled");const u=t==null?void 0:t.get("name");if(u==null)return JSON.stringify("Vue property name not provided");const a=t==null?void 0:t.get("required"),p=this.manifest.ensureProperty(u);return a&&(p.required=!0),r.length>0&&(p.default=`() => [${this._renderContent(r).join(", ")}]`),"[]"}const i=this.allowedComponents.has(e);if(ut(e,0)||i)if(i){this.usedComponents.add(e);const u=r.length==0?"null":r.length==1?this._renderNode(r[0]):this._renderContent(r).join(", ");return`h(${e}, ${this._renderAttributes(t)}, () => ${u})`}else e="span";const s=r.length==0?"":", "+this._renderContent(r).join(", ");return`h(${JSON.stringify(e)}, ${this._renderAttributes(t)}${s})`}_renderElementRaw(e,t,r){if(e=="")return r;const i=this.allowedComponents.has(e);if(ut(e,0)||i){if(i)return this.usedComponents.add(e),`h(${e}, ${this._renderAttributes(t)}, () => ${r})`;e="span"}return`h(${JSON.stringify(e)}, ${this._renderAttributes(t)}, ${r})`}_renderObject(e){return!e.type&&e.value!=null&&!e.value.match(/^[a-z]+:\/\//)?this._renderElement("RouterLink",this._normalizeAttributes(e,new Map([["to",e.value]])),e.content):super._renderObject(e)}render(e){const t=["h"],r=this.renderContent(e);return this.usedComponents.size>0&&t.push(...this.usedComponents),`(({${[...t].join(", ")}}) => ${r})`}renderContent(e){return`() => ${this._renderNode(e)}`}}(n=>{class e extends J.define("Prop",{name:w.string,use:w.string.as(w.nullable)},ze){getValue(s,u){return new $.Object({type:"raw",value:"<>vue-prop",content:u,attributes:new Map(qe([["name",this.name],this.use!=null&&["use",this.use]]))})}}n.PropertyWidget=e;class t extends J.define("Declare",{name:w.string,required:w.boolean.as(w.nullable)},ze){getValue(s,u){return new $.Object({type:"raw",value:"<>vue-decl",content:u,attributes:new Map(qe([["name",this.name],this.required&&["required",""]]))})}}n.PropertyDeclarationWidget=t;class r{constructor(){this.properties=new Map,this.renderers=new Set}ensureProperty(s){return on(this.properties,s,()=>({default:null,required:!1}))}}n.PropertyManifest=r})(Te||(Te={}));class Dn extends J.define("Math",{equation:w.boolean.as(w.nullable),full:w.boolean.as(w.nullable)},ze,{baseTypeDecorator(e){return e.annotate(new Pt)}}){getValue(e,t){const r=t[0];r instanceof $.Raw||ne();let i=r.value;return this.full&&(i="\\displaystyle"+i),new $.Span({content:[new $.Raw({value:this.equation?"\\["+i+"\\]":"$"+i+"$"})]})}}const it=class it extends J.define("LaTeXTableOptions",{widths:w.number.as(w.array),types:w.string.as(w.array),compact:w.boolean,naked:w.boolean,long:w.boolean,before:w.string.as(w.nullable),after:w.string.as(w.nullable)}){};it.tagname="<>latex-table-options";let he=it;class Bn extends J.define("TableOptions",{widths:w.string.as(w.nullable),types:w.string.as(w.nullable),compact:w.boolean.as(w.nullable),naked:w.boolean.as(w.nullable),long:w.boolean.as(w.nullable),before:w.string.as(w.nullable),after:w.string.as(w.nullable)},ze){getValue(e,t){const r=he.default();if(this.widths){const s=this.widths.split("|").map(u=>parseFloat(u));s.some(isNaN)||(r.widths=s)}return this.types&&(r.types=this.types.split("")),this.compact&&(r.compact=!0),this.naked&&(r.naked=!0),this.long&&(r.long=!0),r.before=this.before,r.after=this.after,new $.Object({type:"raw",value:he.tagname,content:[],attributes:new Map([["value",JSON.stringify(r.serialize())]])})}}const pt={widgets:[Dn,Bn],shortcuts:[]},Vn=[{start:"[[",end:"]]",object:"cite"}],Fn=[{start:"$$MATH{{",end:"}}$$",object:"Math"},{start:"$$MATH1{{",end:"}}$$",prefix:"<Math pragma-spc1>"},{start:"$$MATH0{{",end:"}}$$",prefix:"<Math pragma-spc>"},{start:/(?:\xa0|&nbsp;| )&lt;&lt;/,end:/&gt;&gt;(?:\xa0|&nbsp;| )/,prefix:"<Math pragma-spc1>"},{start:/(?:\xa0|&nbsp;| )&lt;&lt;/,end:"&gt;&gt;",prefix:"<Math pragma-spc>"},{start:"&lt;&lt;",end:/&gt;&gt;(?:\xa0|&nbsp;| )/,prefix:"<Math pragma-spc0>"},{start:"&lt;&lt;",end:"&gt;&gt;",prefix:"<Math>"}];class oe{constructor(e){this.shortcuts=[{start:"$$EMBED{{",end:"}}$$"},{start:"$$NOTE{{",end:"}}$$",object:"__discard__"}],this._shortcutMatches=[],this._embedParser=new oe.InlineCssParser("",e),e!=null&&e.shortcuts&&this.shortcuts.push(...e.shortcuts),this.forceTableHeader=(e==null?void 0:e.forceTableHeader)??!0}get widgets(){return this._embedParser.widgets}set widgets(e){this._embedParser.widgets=e}importStyle(e,t){const r=e.getAttribute("style");return r?this._embedParser.clone(r).parseInlineCss(t):t}importContent(e,t){for(const r of e){const i=this.importNode(r);i!=null&&t.content.push(i)}this.normalizeContent(t.content,0)}normalizeContent(e,t){for(let r=t;r<e.length;r++){const i=e[r];if(r<e.length-1){const s=e[r+1];if(i.kind=="segment"&&(i.type=="ul"||i.type=="ol")&&s.kind=="segment"&&s.type==i.type&&i.content.length>0&&s.content.length>0){const u=i.content[0].getMetadata(oe.META_MARGIN_LEFT),a=s.content[0].getMetadata(oe.META_MARGIN_LEFT);if(u!=null&&a!=null){if(u==a-36){this.normalizeContent(e,r+1);const p=i.content.at(-1);p&&p.kind=="segment"&&p.type=="li"?p.content.push(e[r+1]):i.content.push(new $.Segment({type:"li",content:[e[r+1]]})),e.splice(r+1,1),r--;continue}else if(u==a){this.normalizeContent(e,r+1),i.content.push(...s.content),e.splice(r+1,1),r--;continue}}}}}}importTable(e){const t=$.Table.default();return this.importTableRows(e,t,!1),t}importTableRows(e,t,r){for(const i of e.childNodes)if(i instanceof HTMLElement){if(i.tagName=="TBODY"){this.importTableRows(i,t,!1);continue}if(i.tagName=="THEAD"){this.importTableRows(i,t,!0);continue}if(i.tagName=="TR"){const s=$.TableRow.default();s.header=r,t.content.push(s);for(const u of i.childNodes){if(!(u instanceof HTMLElement)||u.tagName!="TD")continue;const a=this.importElement(u);a!=null&&s.content.push(a)}continue}}}importElement(e){let t=null;if(e.tagName=="B"||e.tagName=="STRONG")t=new $.Span({modifier:"bold",content:[]});else if(e.tagName=="I"||e.tagName=="EM")t=new $.Span({modifier:"italics",content:[]});else if(e.tagName=="CODE"||e.tagName=="CODE")t=new $.Span({modifier:"italics",content:[]});else if(e.tagName=="UL")t=new $.Segment({type:"ul",content:[]});else if(e.tagName=="LI")t=new $.Segment({type:"li",content:[]});else if(e.tagName=="OL")t=new $.Segment({type:"ol",content:[]});else if(e.tagName=="H1")t=new $.Segment({type:1,content:[]});else if(e.tagName=="H2")t=new $.Segment({type:2,content:[]});else if(e.tagName=="H3")t=new $.Segment({type:3,content:[]});else if(e.tagName=="H4")t=new $.Segment({type:4,content:[]});else if(e.tagName=="DIV")t=new $.Segment({content:[]});else if(e.tagName=="P")t=new $.Segment({type:"p",content:[]});else if(e.tagName=="IMG")t=new $.Object({type:"media",value:e.src,content:[]});else if(e.tagName=="A")t=new $.Object({type:"link",value:e.href,content:[]});else{if(e.tagName=="TABLE")return this.importTable(e);if(e.tagName=="BR")return new $.Text({value:`
`})}t=this.importStyle(e,t);const r=e.childNodes;return r.length==0?t:t==null&&r.length==1?this.importNode(r[0]):(t??(t=new $.Span({content:[]})),this.importContent(r,t),t)}importTextNode(e){let t=e.textContent;return t==null||(t=t.trim(),t=="")?null:new $.Text({value:t})}importNode(e){if(e instanceof Text)return this.importTextNode(e);if(e instanceof HTMLElement)return this.importElement(e);if(e instanceof Comment){const t=e.textContent;if(t==null)return null;for(const{regexp:r,shortcut:i}of this._shortcutMatches){const s=t.match(r);if(s){if(i.object=="__discard__")break;const u=s[1],a=document.createElement("template");a.innerHTML=u;let p=this.flattenIntoText(a.content);i.object&&(p=`<${i.object}>${p}</${i.object}>`),i.prefix!=null&&(p=i.prefix+p),i.suffix!=null&&(p=i.suffix+p);const d=this._embedParser.clone(p);if(p.includes(`
`))return d.parseDocument();{const m=new $.Span({content:[]});return d.parseFragment(null,m.content),m}}}}return null}flattenIntoText(e){const t=[];return this.flattenNode(e,t),t.join("")}flattenNode(e,t){if(e instanceof Text)t.push(e.textContent??"");else if(e instanceof HTMLElement||e instanceof DocumentFragment){if(e instanceof HTMLElement&&e.tagName=="BR"){t.push(`
`);return}for(const r of e.childNodes)this.flattenNode(r,t)}}importDocument(e){const t=new $.Segment({content:[]}),r=e.childNodes;return this.importContent(r,t),t}importHtml(e){const t=document.createElement("template");if(this.shortcuts.length>0){const i=new RegExp(`(${this.shortcuts.map(u=>typeof u.start=="string"?ve(u.start):`(?:${u.start.source})`).join("|")})`,"g"),s=new RegExp(`(${this.shortcuts.map(u=>typeof u.end=="string"?ve(u.end):`(?:${u.end.source})`).join("|")})`,"g");t.innerHTML=e.replace(i,"<!--$1").replace(s,"$1-->")}else t.innerHTML=e;this._shortcutMatches=this.shortcuts.map(i=>({regexp:new RegExp(`^(?:${typeof i.start=="string"?ve(i.start):i.start.source})(.*)(?:${typeof i.end=="string"?ve(i.end):i.end.source})$`,""),shortcut:i}));const r=t.content;return this.importDocument(r)}}(n=>{n.META_MARGIN_LEFT="META_MARGIN_LEFT";class e extends Lt{_parseInlineCssProperty(r,i,s){return r=="margin-left"?(s??(s=new $.Span({content:[]})),s.setMetadata(n.META_MARGIN_LEFT,parseInt(i)),s):super._parseInlineCssProperty(r,i,s)}}n.InlineCssParser=e})(oe||(oe={}));const ce=-1,mt=-2;class Hn{constructor(){this._target=null,this._result=null,this._index=-1,this._value=null,this.wasDropped=!1}get wasModified(){return this._target!=this._result}isDone(){return this._index==ce?!1:this._index==mt?!0:!(this._index<this._target.length)}next(){if(this.wasDropped=!1,this._index==ce)return this._result=this._target,this._target=null,this._index=mt,this._value=this._result;if(this._index>=0&&this._index<this._target.length){const e=this._target[this._index++];return this.wasModified&&this._result.push(e),this._value=e}throw new RangeError("No more elements available")}peek(){if(this._index==ce)return this._target;if(this._index>=0&&this._index<this._target.length)return this._target[this._index];throw new RangeError("No more elements available")}drop(){this.wasDropped||(this.wasDropped=!0,this._index<=ce?this._result=null:this._index>=0&&(this.wasModified?this._result.pop():this._result=this._target.slice(0,this._index-1)))}replace(e){if(this._value=e,this.wasDropped){this.wasDropped=!1,this._index<=ce?this._result=e:this._result.push(e);return}this._index<=ce?this._result=e:this._index>=0&&(this.wasModified?this._result.splice(-1,1,e):this._result=[...this._target.slice(0,this._index-1),e])}transform(e){return this._index=ce,this._target=e,this._result=e,this.process(),this._result}transformArray(e){return this._index=0,this._target=e,this._result=e,this.process(),this._result}processChildren(e){const t=this._getChildren();if(t==null)return;const r=Ie(this);e&&Object.assign(r,e);const i=r.transformArray(t);r.wasModified&&this.applyChildren(i)}process(){for(;!this.isDone();)this.next(),this.processElement()}processElement(){this.processChildren()}}const gt=w.enum("ol","ul","none");class Un{constructor(e){this.type=e,this.items=[],this.depths=[],this.margin=0,this.types=[]}}class Wn extends Hn{constructor(){super(...arguments),this.inheritedFrame=null,this.currentFrame=null}_getChildren(){return"content"in this._value&&typeof this._value.content!="string"?this._value.content:null}applyChildren(e){this.replace(ct(this._value,{content:e}))}process(){this.currentFrame=this.inheritedFrame,super.process()}processElement(){if(this._value.kind=="segment"){if(gt.matches(this._value.type)){this.currentFrame==null&&(this.currentFrame=new Un("none"));const e=this._value.getMetadata(oe.META_MARGIN_LEFT);if(this.processChildren({inheritedFrame:ct(this.currentFrame,{type:this._value.type,margin:this.currentFrame.margin+(e??0)+1})}),!this.isDone()){const u=this.peek();if(u.kind=="segment"&&gt.matches(u.type)){this.drop();return}}if(this.inheritedFrame!=null){this.drop();return}const t=[],r=[],i=[],s=[];for(const[u,a,p]of mn("until-first",this.currentFrame.items,this.currentFrame.depths,this.currentFrame.types)){let d;p=="none"&&ne();const m=()=>{d=new $.Segment({type:p,content:[]}),t.length==0?s.push(d):t.at(-1).content.push(d),t.push(d),r.push(p),i.push(a)};if(t.length==0||a>i.at(-1))m();else if(a==i.at(-1))p!=r.at(-1)?(t.pop(),r.pop(),i.pop(),m()):d=t.at(-1);else{for(;t.length>0&&a<i.at(-1);)t.pop(),r.pop(),i.pop();t.length==0||a>i.at(-1)?m():p!=r.at(-1)?(t.pop(),r.pop(),i.pop(),m()):d=t.at(-1)}d.content.push(u)}s.length==1?this.replace(s[0]):s.length==0?this.drop():this.replace(new $.Segment({content:s})),this.currentFrame=null;return}if(this._value.type=="li"&&this.inheritedFrame!=null){const e=this.inheritedFrame.items.length;this.processChildren();const t=this._value.getMetadata(oe.META_MARGIN_LEFT);this.inheritedFrame.items.splice(e,0,this._value),this.inheritedFrame.depths.splice(e,0,(t??0)+this.inheritedFrame.margin),this.inheritedFrame.types.splice(e,0,this.inheritedFrame.type),this.drop();return}}super.processElement()}}class qn{constructor(){this.result=[],this.indent=0,this.skipNextIndent=!0,this.tableOptions=he.default()}emitIndent(){if(this.skipNextIndent){this.skipNextIndent=!1;return}this.result.push("    ".repeat(this.indent))}exportNodeContent(e){for(const t of e.content)this.exportNode(t)}emitBlockElement(e,t){this.emitIndent(),this.result.push("\\begin{"+t+`}
`),this.indent++,this.exportNodeContent(e),this.indent--,this.emitIndent(),this.result.push("\\end{"+t+`}
`)}exportNode(e){var t,r,i,s,u,a,p,d;if(e.kind=="segment"){if(e.type==1){this.emitIndent(),this.result.push("\\section{"),this.skipNextIndent=!0,this.exportNodeContent(e),this.result.push(`}

`);return}if(e.type==2){this.emitIndent(),this.result.push("\\subsection{"),this.skipNextIndent=!0,this.exportNodeContent(e),this.result.push(`}

`);return}if(e.type==3){this.emitIndent(),this.result.push("\\subsubsection{"),this.skipNextIndent=!0,this.exportNodeContent(e),this.result.push(`}

`);return}if(typeof e.type=="number"){this.emitIndent(),this.result.push("\\paragraph{"),this.skipNextIndent=!0,this.exportNodeContent(e),this.result.push(`}
`);return}if(e.type=="p"){this.emitIndent(),this.exportNodeContent(e),this.result.push(`

`);return}if(e.type=="ul"){this.emitBlockElement(e,"itemize");return}if(e.type=="quote"){this.emitBlockElement(e,"quote");return}if(e.type=="ol"){this.emitBlockElement(e,"enumerate");return}if(e.type=="li"){this.emitIndent(),this.result.push("\\item "),this.exportNodeContent(e),this.result.push(`
`);return}this.exportNodeContent(e);return}if(e.kind=="text"){this.result.push(e.value.replace(/\\/g,"\\textbackslash").replace(/_/g,"\\_").replace(/\^/g,"\\^{}"));return}if(e.kind=="raw"){this.result.push(e.value);return}if(e.kind=="span"){const m=((t=e.attributes)==null?void 0:t.get("pragma-spc"))!=null,x=((r=e.attributes)==null?void 0:r.get("pragma-spc0"))!=null,g=((i=e.attributes)==null?void 0:i.get("pragma-spc1"))!=null;(g||m)&&this.result.push(" ");try{if(e.modifier=="code"){this.result.push(" \\texttt{"),this.exportNodeContent(e),this.result.push("} ");return}if(e.modifier=="bold"){this.result.push(" \\textbf{"),this.exportNodeContent(e),this.result.push("} ");return}if(e.modifier=="italics"){this.result.push(" \\textit{"),this.exportNodeContent(e),this.result.push("} ");return}this.exportNodeContent(e);return}finally{(g||x)&&this.result.push(" ")}}if(e.kind=="object"&&e.type=="raw"){if(e.value&&e.value.startsWith("<>")){if(e.value==he.tagname){this.tableOptions=he.ref().deserialize(JSON.parse(e.attributes.get("value")));return}return}const m=((s=e.attributes)==null?void 0:s.get("pragma-block"))!=null,x=((u=e.attributes)==null?void 0:u.get("pragma-star"))!=null,g=((a=e.attributes)==null?void 0:a.get("pragma-spc"))!=null,h=((p=e.attributes)==null?void 0:p.get("pragma-spc0"))!=null,o=((d=e.attributes)==null?void 0:d.get("pragma-spc1"))!=null;(o||g)&&this.result.push(" ");let f=e.value;x&&(f=f+"*"),m?this.result.push(`\\begin{${f}}`):this.result.push("\\"+f);const k=e.attributes==null?null:[...e.attributes].filter(([_,T])=>!_.startsWith("pragma-"));k&&k.length>0&&this.result.push(`[${k.map(([_,T])=>T==""?_:`${_}=${T}`).join(", ")}]`),e.content.length>0&&(m||this.result.push("{"),this.exportNodeContent(e),m||this.result.push("}")),m&&this.result.push(`\\end{${f}}`),(o||h)&&this.result.push(" ");return}if(e.kind=="table"){if(e.content.length==0)return;const m=e.content[0];if(m.kind!="table-row")return;const x=m.content,{compact:g,widths:h,types:o,naked:f,long:k,before:_,after:T}=this.tableOptions;let j=1;if(!g)for(const z of h)j-=z;let S=h.map(z=>z==0?1:0).reduce(Ge.sum(),0);h.length<x.length&&(S+=x.length-h.length);const E=k?"longtable":"tabular",V=_||T?"\\tabularnewline":"\\\\";this.result.push(`\\begin{${E}}{ ${f?"":"|"}${[...ln(x.length)].map((z,R)=>{let F=R<o.length?o[R]:"p";if(!g){const N=R<h.length?h[R]:j/S;F+=`{\\dimexpr ${N}\\textwidth -2\\tabcolsep}`}return _&&(F=`>{${_}}${F}`),T&&(F=`>{${T}}${F}`),F+(f?"":"|")}).join("")}}
`),f||this.result.push(`\\hline
`);for(let z=0;z<e.content.length;z++){const R=e.content[z];R.kind!="table-row"&&ne();for(let N=0;N<R.content.length;N++){const B=R.content[N];this.exportNode(B),N==R.content.length-1||this.result.push(" & ")}const F=z==e.content.length-1;(!f||!F)&&this.result.push(V+`
`),f||this.result.push(`\\hline
`)}this.result.push(`\\end{${E}}`);return}this.result.push(`!?!${e.kind}`)}exportDocument(e){return this.exportNode(e),this.result.join("")}}var fe;(n=>{n.DEFAULT_COLOR_MAP={string:{custom:!1,name:"green"},primitive:{custom:!1,name:"yellow"},function:{custom:!1,name:"cyan"},symbol:{custom:!1,name:"green"},circular:{custom:!1,name:"blue"},date:{custom:!1,name:"magenta"},regexp:{custom:!1,name:"red"},shallow:{custom:!1,name:"white"},type:{custom:!1,name:"bold"},other:{custom:!1,name:"gray"}},n.DEFAULT_COLOR_CODES={black:"#000000",blue:"#2472c8",brightBlack:"#666666",brightBlue:"#3b8eea",brightCyan:"#29b8db",brightGreen:"#23d18b",brightMagenta:"#d670d6",brightRed:"#f14c4c",brightWhite:"#ffffff",brightYellow:"#f5f543",cyan:"#11a8cd",green:"#0dbc79",magenta:"#bc3fbc",red:"#cd3131",white:"#e5e5e5",yellow:"#e5e510",grey:"#aaaaaa",gray:"#aaaaaa"},n.LIGHT_COLOR_CODES={black:"#000000",blue:"#1568c4",brightBlack:"#000000",brightBlue:"#1568c4",brightCyan:"#24b2d6",brightGreen:"#1f8236",brightMagenta:"#8f288f",brightRed:"#b30e0e",brightWhite:"#000000",brightYellow:"#cf4600",cyan:"#24b2d6",green:"#1f8236",magenta:"#8f288f",red:"#b30e0e",white:"#191919",yellow:"#cf4600",grey:"#555555",gray:"#555555"},n.ANSI_COLOR_CODES={black:"30",blue:"94",bold:"1",cyan:"96",gray:"90",green:"92",magenta:"95",red:"91",white:"0",yellow:"93"};function e(i,s){const u=p=>p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return`<span style="${s.custom==!1&&s.name=="bold"?"font-weight: bold":s.custom?`color: ${s.code}`:`color: ${n.LIGHT_COLOR_CODES[s.name]}`}">${u(i)}</span>`}n.htmlColor=e;function t(i,s){return s.custom?i:s.name=="bold"?`\x1B[1m${i}\x1B[0m`:`\x1B[${n.ANSI_COLOR_CODES[s.name]}m${i}\x1B[0m`}n.ansiColor=t;function r(i,{color:s,lineLimit:u=50,colorMap:a=n.DEFAULT_COLOR_MAP}){const p=(m,x)=>{if(m.type=="primitive"){const g=typeof m.value;if(g=="string")return{result:s(JSON.stringify(m.value),a.string),multiline:!1};if(g=="number"||g=="boolean")return{result:s(m.value.toString(),a.primitive),multiline:!1}}else{if(m.type=="bigint")return{result:s(m.value.toString()+"n",a.primitive),multiline:!1};if(m.type=="function")return{result:s(`[${m.subtype} ${m.name}]`,a.function),multiline:!1};if(m.type=="list"){const g=m.elements.map(f=>p(f,x+1));let h=0;for(const f of g){if(f.multiline){h=1/0;break}f.result.length>h&&(h=f.result.length)}const o=m.name!="Array"?`${s(m.name??"null",a.type)}(${g.length}) [`:"[";return h*g.length<u?{result:`${o}${g.length==0?"":" "+g.map(f=>f.result).join(", ")+" "}]`,multiline:!1}:{result:o+`
`+g.map(f=>"  ".repeat(x+1)+f.result).join(`
`)+`
`+"  ".repeat(x)+"]",multiline:!0}}else if(m.type=="record"){const g=m.items.map(f=>({key:d(f.key,x+1),value:p(f.value,x+1)}));let h=0;for(const f of g){if(f.key.multiline||f.value.multiline){h=1/0;break}const k=f.key.result.length+f.value.result.length;k>h&&(h=k)}const o=m.name?`${s(m.name,a.type)} {`:"{";return h*g.length<u?{result:`${o}${g.length==0?"":" "+g.map(f=>`${f.key.result}: ${f.value.result}`).join(", ")+" "}}`,multiline:!1}:{result:o+`
`+g.map(f=>"  ".repeat(x+1)+`${f.key.result}: ${f.value.result}`).join(`
`)+`
`+"  ".repeat(x)+"}",multiline:!0}}else{if(m.type=="symbol")return{result:s(m.name,a.symbol),multiline:!1};if(m.type=="circular")return{result:s("[circular]",a.circular),multiline:!1};if(m.type=="date")return{result:s(m.date,a.date),multiline:!1};if(m.type=="regexp")return{result:s(m.source,a.regexp),multiline:!1};if(m.type=="shallow")return{result:s(m.name,a.shallow),multiline:!1};if(m.type=="raw"){const g=m.segments.map(h=>h.indent?s(h.text,h.color).replace(/\n/g,`
`+"  ".repeat(x)):s(h.text,h.color)).join("");return{result:g,multiline:g.includes(`
`)}}}}return{result:s(m.type,a.other),multiline:!1}},d=(m,x)=>m.type=="primitive"&&typeof m.value=="string"&&!m.value.match(/[^\w$]/g)?{result:m.value,multiline:!1}:p(m,x);return p(i,0).result}n.formatDescription=r})(fe||(fe={}));const Kn=new Set(["string","number","boolean"]);class Oe{constructor(e){this.target=e,this.desc=Oe.inspectObject(this.target)}}(n=>{class e{constructor(i=null,s=(i==null?void 0:i.path)??[]){var u;this.parent=i,this.path=s,this.seen=((u=this.parent)==null?void 0:u.seen)??new Map}descent(i){return new e(this,[...this.path,...i])}}n.Context=e;function t(r,i=new e){var s;if(Kn.has(typeof r))return{type:"primitive",value:r};if(typeof r=="function"){const u=r.toString().startsWith("class");let a=r.name||"(anon)";return a=="(anon)"&&r.toString().length<50&&(a=r.toString().replace(/\n\s*/g,"↲")),{type:"function",subtype:u?"class":"function",name:a}}else{if(typeof r=="symbol")return{type:"symbol",name:r.toString()};if(typeof r=="bigint")return{type:"bigint",value:r.toString()};if(typeof r>"u")return{type:"undefined"};if(typeof r=="object"){if(r==null)return{type:"null"};if(i.seen.has(r))return{type:"circular",path:i.seen.get(r)};i.seen.set(r,i.path);const u=ArrayBuffer.isView(r)&&!(r instanceof DataView);if(r instanceof Array||u){let m=r;return m.length<=100?u&&(m=[...m]):m=[...m.slice(0,50),pe.rawText(`...${m.length-100} elements`),...m.slice(-50)],{type:"list",subtype:"array",name:r.constructor.name,elements:m.map((x,g)=>t(x,i.descent(["elements",g.toString()])))}}if(r instanceof Set)return{type:"list",subtype:"set",name:r.constructor.name,elements:[...r.entries()].map(([m,x],g)=>t(x,i.descent(["elements",g.toString()])))};const a=([m,x],g)=>({key:t(m,i.descent(["items",g.toString(),"key"])),value:t(x,i.descent(["items",g.toString(),"value"]))});if(r instanceof Map)return{type:"record",subtype:"map",name:r.constructor.name,items:[...r].map(a)};if(r instanceof RegExp)return{type:"regexp",source:r.toString()};if(r instanceof Date)return{type:"date",date:r.toISOString()};if(r instanceof WeakMap||r instanceof WeakSet||r instanceof Promise)return{type:"shallow",name:r.constructor.name};if(pe.CUSTOM in r){const m=r[pe.CUSTOM](i);if(m!=r)return n.inspectObject(m,i)}if(r instanceof Error)return{type:"raw",segments:[{color:{custom:!1,name:"white"},text:r.stack??r.message}]};if(r[zt])return{type:"raw",segments:r.segments};let p=(s=r.constructor)==null?void 0:s.name;p=="Object"&&(p=null);const d=[];for(const[m,x]of Object.entries(r))d.push(a([m,x],d.length));for(const m of Object.getOwnPropertySymbols(r))Object.getOwnPropertyDescriptor(r,m).enumerable&&d.push(a([m,r[m]],d.length));return{type:"record",subtype:"object",name:p,items:d}}}return{type:"unknown"}}n.inspectObject=t})(Oe||(Oe={}));const zt=Symbol.for("Logger.ObjectDescription.RawObject"),Gn={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white",90:"gray",91:"redBright",92:"greenBright",93:"yellowBright",94:"blueBright",95:"magentaBright",96:"cyanBright",97:"whiteBright"};var pe;(n=>{n.CUSTOM=Symbol.for("Logger.ObjectDescription.Custom");function e(i){return{[zt]:!0,segments:i}}n.raw=e;function t(i,s={custom:!1,name:"white"},{indent:u=!1}={}){return typeof s=="string"&&(s={custom:!1,name:s}),e([{text:i,color:s,...u?{indent:!0}:void 0}])}n.rawText=t;function r(i){i+="\x1B[0m";const s=[];let u={custom:!0,code:fe.DEFAULT_COLOR_CODES.white,ansiCode:37},a=0,p=0,d=0;for(;(p=i.indexOf("\x1B[",p))!=-1;){const m=i.slice(a,p);s.push({color:u,text:m});const x=p+2;p=i.indexOf("m",p)+1;const g=i.slice(x,p-1),h=Gn[g]??"white";if(u={custom:!0,code:fe.DEFAULT_COLOR_CODES[h]??fe.DEFAULT_COLOR_CODES.grey,ansiCode:+g},a=p,d++,d>1e3)throw new Error("Infinite loop reached")}return e(s)}n.ansiText=r})(pe||(pe={}));function Re(n,e){const t=Oe.inspectObject(n);return fe.formatDescription(t,{...e,color:(e==null?void 0:e.color)??(e!=null&&e.colors?Re.defaultColor:r=>r)})}(n=>{n.defaultColor=e=>e})(Re||(Re={}));const bt=et(me({name:"ToggleButton",props:{modelValue:{type:Boolean,default:!1},focus:{type:Boolean},fieldProps:{type:Object},required:{type:Boolean},enabledStyle:{type:Object},...Fe.FUNCTION,...Fe.STYLE},emits:{"update:modelValue":n=>!0,change:n=>!0},setup(n,e){var u;const t=Se(n.modelValue),r=Se();e.expose({input:r}),tt(()=>{n.focus&&r.value.focus()}),Z(()=>n.modelValue,a=>{t.value=a}),Z(t,(a,p)=>{a!=p&&(e.emit("update:modelValue",a),e.emit("change",a))});function i(a){const p=a.target.checked;p!=t.value&&(t.value=p)}const s=(u=Yt(Fe.GROUP_SYMBOL,void 0))==null?void 0:u.props;return()=>{const a=n.disabled||(s==null?void 0:s.disabled),{modelValue:p,focus:d,fieldProps:m,required:x,enabledStyle:g,...h}=n,o=g==null;return L(ge,Ue(h,{nativeElement:"label",class:"px-1 gap-1 flex row center-cross"},g!=null&&t.value?g:void 0),{default:()=>[L("input",Ue({class:o?"m-0":"hidden",type:"checkbox",required:x,disabled:a,onChange:i,checked:t.value,ref:r},m),null),vt(e.slots,"default")]})}}}));se.prototype[pe.CUSTOM]=function(){const n=gn(this,"kind");Object.defineProperty(n,pe.CUSTOM,{value:function(){return this},enumerable:!1});for(const[e,t]of Object.entries(n))t==null&&delete n[e];return n};class yt extends J.define("EditorConfig",{importType:w.enum("md","html"),exportType:w.enum("html","latex","vue"),htmlCitations:w.boolean.as(w.withDefault,()=>!0),htmlMath:w.boolean.as(w.withDefault,()=>!0)},class{constructor(){return rt(this)}}){}class Jn extends Et{constructor(t){super();Ne(this,"preview",null);Ne(this,"output",null);Ne(this,"ast",null);this.config=t}getOutput(){return[{label:"Preview",name:"output",content:()=>this.preview!=null?typeof this.preview=="string"?L("div",{class:"mml-document",innerHTML:this.preview},null):typeof this.preview=="function"?L("div",{class:"mml-document"},[ie.pcall(()=>He(this.preview)).else(t=>(console.error(t),null)).unwrap()]):L(wt,{node:this.preview},null):L("div",null,null)},{label:"Output",name:"raw",content:()=>L(Ct,{content:this.output??"",config:{readOnly:!0},mode:this.config.exportType=="html"?"htmlmixed":this.config.exportType=="vue"?"javascript":void 0,class:"absolute-fill"},null)},{label:"AST",name:"ast",content:()=>this.ast&&L("pre",{class:"monospace pre-wrap m-0",innerHTML:this.ast},null)}]}_compile(t){this.output=null,this.preview=null,this.ast=null;let r;const i=Ie(pt);if(i.shortcuts=fn(pt.shortcuts),this.config.htmlCitations&&i.shortcuts.push(...Vn),this.config.htmlMath&&i.shortcuts.push(...Fn),this.config.importType=="md")r=new Lt(t,i).parseDocument();else if(this.config.importType=="html"){r=new oe(i).importHtml(t);const s=new Wn;r=s.transform(r),s.wasDropped&&ne()}else ne();if(this.ast=Re(r,{color:fe.htmlColor}),this.config.exportType=="html"){const s=new On;this.preview=this.output=s.render(r)}else if(this.config.exportType=="vue"){const s=new Te;s.addAllowedComponent("RouterLink","Button");const u=s.render(r);this.output=u;try{this.preview=new Function("return "+u)()({RouterLink:Qt,Button:ge,h:He})}catch(a){console.error(a),this.preview=`<div class="text-danger monospace">${ke(a.message)}</div>`}}else if(this.config.exportType=="latex"){const s=new qn;this.output=s.exportDocument(r);try{const u=(async()=>{const{HtmlGenerator:p,parse:d}=await en(()=>import("./latex-f262cfb3.js"),["assets/latex-f262cfb3.js","assets/index-822b444c.js","assets/index-e9f58a82.css"]),m=d(this.output,{generator:new p({hyphenate:!1})}),x=document.createElement("div");return x.appendChild(m.domFragment()),x})();u.catch(p=>{this.preview=`<div class="text-danger monospace">${ke(p.message)}</div>`});const a=document.createElement("iframe");a.addEventListener("load",()=>{a.contentDocument.head.innerHTML=Xn,u.then(p=>{a.contentDocument.body.innerHTML=p.innerHTML})}),a.contentDocument,a.setAttribute("class","border-none absolute-fill"),this.preview=a}catch(u){console.error(u),this.preview=`<div class="text-danger monospace">${ke(u.message)}</div>`}}this.ready=!0}}const Xn=`
    <link rel="stylesheet" type="text/css" href="/MiniML/latex/css/katex.css">
    <link rel="stylesheet" type="text/css" href="/MiniML/latex/css/article.css">
    <script src="/MiniML/latex/js/base.js"><\/script>
    <style>
        body { display: initial; }
        .body { padding: 2rem; }
    </style>
`,nr=me({name:"MiniMLEditor",setup(n,e){const t=Zt(),r=ie.value(localStorage.getItem("mini-ml-editor:editor-config")).filterType("string").do(d=>yt.deserialize(JSON.parse(d))).else(d=>(console.error(d),yt.default())).unwrap(),i=new Jn(r),s=Pe({md:"Markdown",html:"HTML"});function u(){localStorage.setItem("mini-ml-editor:editor-config",JSON.stringify(r.serialize())),i.compile(i.code.value)}s.selected=r.importType,Z(()=>s.selected,d=>{r.importType=d,u()});const a=Pe({html:"HTML",latex:"LaTeX",vue:"Vue"});a.selected=r.exportType,Z(()=>a.selected,d=>{r.exportType=d,u()});function p(){t.modal(()=>L("div",{class:"flex column gap-1"},[L("h3",{class:"m-0"},[X("Config")]),L(bt,{clear:!0,class:"mt-2",label:"HTML Citations",modelValue:r.htmlCitations,"onUpdate:modelValue":d=>r.htmlCitations=d,onChange:u},null),L("small",null,[X("Enables creating a cite element by surrounding text with "),L("code",null,[X("[[")]),X(" and "),L("code",null,[X("]]")])]),L(bt,{clear:!0,class:"mt-2",label:"HTML Math",modelValue:r.htmlMath,"onUpdate:modelValue":d=>r.htmlMath=d,onChange:u},null),L("small",null,[X("Enables creating a Math element by surrounding text with "),L("code",null,["<<"]),X(" and "),L("code",null,[">>"])])]),{props:{cancelButton:"Close"}})}return()=>L(Sn,{state:i,class:"flex-fill",toolbarClass:"center-cross",mode:s.selected=="md"?"markdown":"htmlmixed",localStorageId:"mini-ml-editor",root:!0},{default:()=>[L(Le,{tabs:s},null),L(_t,{icon:tn,class:"mx-2"},null),L(Le,{tabs:a},null),We(L(ge,{clear:!0,icon:rn,onClick:p},null),[[$e("label"),"Config"]])]})}});export{nr as MiniMLEditor,yt as _EditorConfig};
